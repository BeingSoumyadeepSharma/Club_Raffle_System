exports.id=649,exports.ids=[649],exports.modules={4261:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9489,23)),Promise.resolve().then(s.t.bind(s,6225,23)),Promise.resolve().then(s.t.bind(s,5964,23)),Promise.resolve().then(s.t.bind(s,5804,23)),Promise.resolve().then(s.t.bind(s,7255,23)),Promise.resolve().then(s.t.bind(s,1021,23))},9089:(e,t,s)=>{Promise.resolve().then(s.bind(s,1381)),Promise.resolve().then(s.bind(s,7063)),Promise.resolve().then(s.bind(s,8853))},1381:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Navbar:()=>Z});var a=s(7685),r=s(3810),n=s(2384),o=s.n(n),i=s(7986),l=s(4120),d=s(7063),c=s(8853),m=s(4283),u=s(3069),h=s(1727),f=s(4654);let x=u.fC,p=u.xz;u.x8;let g=u.h_,v=r.forwardRef(({className:e,...t},s)=>a.jsx(u.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));v.displayName=u.aV.displayName;let b=(0,h.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),y=r.forwardRef(({side:e="right",className:t,children:s,...r},n)=>(0,a.jsxs)(g,{children:[a.jsx(v,{}),(0,a.jsxs)(u.VY,{ref:n,className:(0,l.cn)(b({side:e}),t),...r,children:[s,(0,a.jsxs)(u.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(f.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));y.displayName=u.VY.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(u.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold text-foreground",e),...t})).displayName=u.Dx.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(u.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName=u.dk.displayName;var j=s(9967),N=s(8952),k=s(3096),w=s(9709),S=s(1964),_=s(9997),P=s(1099),C=s(9596),D=s(7563),R=s(2696),z=s(1165),L=s(8610);let A=[{href:"/",label:"Dashboard",icon:j.Z},{href:"/entities",label:"Clubs",icon:N.Z},{href:"/tickets",label:"Tickets",icon:k.Z}],E={superuser:w.Z,club_owner:S.Z,event_manager:_.Z,staff:P.Z};function Z(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),{user:s,logout:n,isLoading:u,canManageUsers:h}=(0,d.useAuth)(),{theme:f,toggleTheme:g}=(0,c.useTheme)(),[v,b]=(0,r.useState)(!1),j=()=>{n(),t.push("/login")},N=s?E[s.role]:null,k=({mobile:t=!1})=>(0,a.jsxs)(a.Fragment,{children:[A.map(r=>{let n=r.icon,i=e===r.href;return"/"===r.href&&s?.role!=="superuser"?null:(0,a.jsxs)(o(),{href:r.href,onClick:()=>t&&b(!1),className:(0,l.cn)("flex items-center gap-2 text-sm font-medium transition-colors hover:text-primary",i?"text-primary":"text-muted-foreground",t&&"py-2"),children:[a.jsx(n,{className:"h-4 w-4"}),r.label]},r.href)}),h()&&(0,a.jsxs)(o(),{href:"/users",onClick:()=>t&&b(!1),className:(0,l.cn)("flex items-center gap-2 text-sm font-medium transition-colors hover:text-primary","/users"===e?"text-primary":"text-muted-foreground",t&&"py-2"),children:[a.jsx(P.Z,{className:"h-4 w-4"}),"Users"]})]});return a.jsx("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(o(),{href:"/",className:"flex items-center gap-2 font-bold text-xl mr-8",children:["\uD83C\uDFB2 ",a.jsx("span",{className:"hidden sm:inline",children:"Raffle System"})]}),a.jsx("div",{className:"hidden md:flex items-center gap-6",children:a.jsx(k,{})})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[a.jsx(m.z,{variant:"ghost",size:"icon",onClick:g,title:"dark"===f?"Switch to light mode":"Switch to dark mode",children:"dark"===f?a.jsx(C.Z,{className:"h-5 w-5"}):a.jsx(D.Z,{className:"h-5 w-5"})}),u?a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."}):s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[N&&a.jsx(N,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:s.username}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground hidden lg:inline",children:["(",d.ROLE_LABELS[s.role],")"]})]}),(0,a.jsxs)(m.z,{variant:"outline",size:"sm",onClick:j,className:"gap-2",children:[a.jsx(R.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}):a.jsx(m.z,{variant:"outline",size:"sm",asChild:!0,className:"gap-2",children:(0,a.jsxs)(o(),{href:"/login",children:[a.jsx(z.Z,{className:"h-4 w-4"}),"Login"]})})]}),(0,a.jsxs)("div",{className:"md:hidden flex items-center gap-2",children:[a.jsx(m.z,{variant:"ghost",size:"icon",onClick:g,children:"dark"===f?a.jsx(C.Z,{className:"h-5 w-5"}):a.jsx(D.Z,{className:"h-5 w-5"})}),s&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[N&&a.jsx(N,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-xs",children:s.username})]}),(0,a.jsxs)(x,{open:v,onOpenChange:b,children:[a.jsx(p,{asChild:!0,children:a.jsx(m.z,{variant:"ghost",size:"icon",children:a.jsx(L.Z,{className:"h-5 w-5"})})}),a.jsx(y,{side:"right",className:"w-[280px]",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 mt-8",children:[a.jsx(k,{mobile:!0}),a.jsx("div",{className:"border-t pt-4 mt-4",children:u?a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."}):s?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[N&&a.jsx(N,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:s.username}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",d.ROLE_LABELS[s.role],")"]})]}),(0,a.jsxs)(m.z,{variant:"outline",size:"sm",onClick:()=>{j(),b(!1)},className:"w-full gap-2",children:[a.jsx(R.Z,{className:"h-4 w-4"}),"Logout"]})]}):a.jsx(m.z,{variant:"outline",size:"sm",asChild:!0,className:"w-full gap-2",children:(0,a.jsxs)(o(),{href:"/login",onClick:()=>b(!1),children:[a.jsx(z.Z,{className:"h-4 w-4"}),"Login"]})})})]})})]})]})]})})}},4283:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var a=s(7685),r=s(3810),n=s(7870),o=s(1727),i=s(4120);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...o},d)=>{let c=r?n.g7:"button";return a.jsx(c,{className:(0,i.cn)(l({variant:t,size:s,className:e})),ref:d,...o})});d.displayName="Button"},7063:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>l,ROLE_LABELS:()=>o,getAuthHeaders:()=>c,useAuth:()=>d});var a=s(7685),r=s(3810);let n=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api",o={superuser:"Superuser",club_owner:"Club Owner",event_manager:"Event Manager",staff:"Staff"},i=(0,r.createContext)(void 0);function l({children:e}){let[t,s]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("auth_token");e?(l(e),m(e)):c(!1)},[]);let m=async e=>{try{let t=await fetch(`${n}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();s(e.data)}else localStorage.removeItem("auth_token"),l(null)}catch(e){console.error("Failed to fetch user:",e),localStorage.removeItem("auth_token"),l(null)}finally{c(!1)}},u=async(e,t)=>{try{let s=await fetch(`${n}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();if(a.success&&a.data)return l(a.data.token),localStorage.setItem("auth_token",a.data.token),await m(a.data.token),!0;return!1}catch(e){return console.error("Login failed:",e),!1}},h=async e=>{if(!t||!o)return!1;try{if((await fetch(`${n}/auth/users/${t.id}/raffler-name`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({rafflerName:e})})).ok)return s({...t,rafflerName:e}),!0;return!1}catch(e){return console.error("Failed to update raffler name:",e),!1}},f=async()=>{o&&await m(o)};return a.jsx(i.Provider,{value:{user:t,token:o,isLoading:d,login:u,logout:()=>{s(null),l(null),localStorage.removeItem("auth_token")},hasAccessToEntity:e=>!!t&&("superuser"===t.role||t.assignedEntities.includes(e)),canCreateClubs:()=>t?.role==="superuser",canEditClubInfo:()=>!!t&&("superuser"===t.role||"club_owner"===t.role||"event_manager"===t.role),canManageUsers:()=>!!t&&"staff"!==t.role,updateRafflerName:h,refreshUser:f},children:e})}function d(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(){let e=localStorage.getItem("auth_token");return e?{Authorization:`Bearer ${e}`}:{}}},8853:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ThemeProvider:()=>o,useTheme:()=>i});var a=s(7685),r=s(3810);let n=(0,r.createContext)(void 0);function o({children:e}){let[t,s]=(0,r.useState)("dark"),[o,i]=(0,r.useState)(!1);(0,r.useEffect)(()=>{i(!0);let e=localStorage.getItem("theme");if(e)s(e),l(e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s(e),l(e)}},[]);let l=e=>{let t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark")},d=e=>{s(e),localStorage.setItem("theme",e),l(e)};return o?a.jsx(n.Provider,{value:{theme:t,toggleTheme:()=>{d("dark"===t?"light":"dark")},setTheme:d},children:e}):null}function i(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},4120:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(1261),r=s(6510);function n(...e){return(0,r.m6)((0,a.W)(e))}},4831:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y,metadata:()=>b});var a=s(6491),r=s(1846),n=s.n(r);s(5556);var o=s(599);let i=(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/components/navbar.tsx`),{__esModule:l,$$typeof:d}=i;i.default;let c=(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/components/navbar.tsx#Navbar`),m=(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/auth-context.tsx`),{__esModule:u,$$typeof:h}=m;m.default,(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/auth-context.tsx#ROLE_LABELS`);let f=(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/auth-context.tsx#AuthProvider`);(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/auth-context.tsx#useAuth`),(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/auth-context.tsx#getAuthHeaders`);let x=(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/theme-context.tsx`),{__esModule:p,$$typeof:g}=x;x.default;let v=(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/theme-context.tsx#ThemeProvider`);(0,o.createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/lib/theme-context.tsx#useTheme`);let b={title:"Raffle System - Party Raffle Management",description:"A complete party raffle management system with support for multiple club entities"};function y({children:e}){return a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:a.jsx("body",{className:n().className,children:a.jsx(v,{children:a.jsx(f,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx(c,{}),a.jsx("main",{className:"container px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:e})]})})})})})}},5556:()=>{}};