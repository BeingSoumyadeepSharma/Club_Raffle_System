"use strict";exports.id=288,exports.ids=[288],exports.modules={3071:(e,t,a)=>{a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7879).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},6620:(e,t,a)=>{a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7879).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9056:(e,t,a)=>{a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7879).Z)("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]])},7356:(e,t,a)=>{a.d(t,{Q:()=>g});var s=a(7685),r=a(3810),n=a(3920),i=a(5090),l=a(4283),c=a(4887),o=a(9881),d=a(7879);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);var u=a(3197),m=a(4654),p=a(4150);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,d.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=a(5943);function g({purchase:e,entity:t,onViewReceipt:a,onPaymentUpdate:d,onDelete:g,onUpdate:j}){let[y,N]=(0,r.useState)(e.isPaid),[w,b]=(0,r.useState)(e.buyerName),[v,k]=(0,r.useState)(!1),[C,$]=(0,r.useState)(e.buyerName),[S,z]=(0,r.useState)(!1),[T,P]=(0,r.useState)(!1),_=async()=>{let t=await (0,o.jg)(e.id);t&&a?.(t)},I=async()=>{z(!0);try{let t=await (0,o.pz)(e.id,!y);t&&(N(t.isPaid),d?.())}catch(e){console.error("Failed to update payment status:",e)}finally{z(!1)}},R=async()=>{if(confirm(`Delete purchase for ${w}? This will remove tickets #${e.startTicketNumber}-#${e.endTicketNumber}.`)){P(!0);try{await (0,o.uU)(e.id)&&g?.()}catch(e){console.error("Failed to delete purchase:",e)}finally{P(!1)}}},Z=async()=>{if(C.trim()){z(!0);try{let t=await (0,o.jJ)(e.id,C.trim());t&&(b(t.buyerName),k(!1),j?.())}catch(e){console.error("Failed to update buyer name:",e)}finally{z(!1)}}},D=()=>{$(w),k(!1)};return(0,s.jsxs)(n.Zb,{className:y?"border-green-500/50":"border-red-500/50",children:[s.jsx(n.Ol,{className:"pb-2 p-3 sm:p-6 sm:pb-2",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,s.jsxs)(n.ll,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(h,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),v?(0,s.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(c.I,{value:C,onChange:e=>$(e.target.value),className:"h-7 w-24 sm:w-32 text-sm sm:text-base",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&Z(),"Escape"===e.key&&D()}}),s.jsx(l.z,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:Z,disabled:S,children:s.jsx(u.Z,{className:"h-4 w-4 text-green-500"})}),s.jsx(l.z,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:D,children:s.jsx(m.Z,{className:"h-4 w-4 text-red-500"})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"truncate max-w-[120px] sm:max-w-none",children:w}),s.jsx(l.z,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 ml-1 flex-shrink-0",onClick:()=>k(!0),children:s.jsx(p.Z,{className:"h-3 w-3 text-muted-foreground"})})]}),e.isGift&&s.jsx("span",{title:"Gift",className:"flex-shrink-0",children:"\uD83C\uDF81"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap",children:[s.jsx(i.C,{variant:y?"default":"destructive",className:`text-xs ${y?"bg-green-500":""}`,children:y?"PAID":"UNPAID"}),(0,s.jsxs)(i.C,{variant:"secondary",className:"text-xs",children:[e.ticketCount," ticket",e.ticketCount>1?"s":""]})]})]})}),(0,s.jsxs)(n.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:[(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[t&&(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Club:"}),(0,s.jsxs)("span",{children:[t.emoji," ",t.displayName]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tickets:"}),(0,s.jsxs)("span",{children:["#",e.startTicketNumber," - #",e.endTicketNumber]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Price/ticket:"}),(0,s.jsxs)("span",{children:["$",e.pricePerTicket]})]}),(0,s.jsxs)("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["$",e.totalPrice]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Raffler:"}),s.jsx("span",{children:e.rafflerName})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Date:"}),s.jsx("span",{children:new Date(e.createdAt).toLocaleString()})]}),e.isGift&&e.gifterName&&(0,s.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"\uD83C\uDF81 Gift from:"}),s.jsx("span",{children:e.gifterName})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3 sm:mt-4",children:[s.jsx(l.z,{variant:y?"outline":"default",size:"sm",className:`flex-1 min-w-[80px] gap-1 sm:gap-2 text-xs sm:text-sm ${y?"border-green-500 text-green-500 hover:bg-green-500/10":"bg-red-500 hover:bg-red-600"}`,onClick:I,disabled:S,children:y?(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Paid"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(m.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"sm:hidden",children:"Pay"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark as Paid"})]})}),(0,s.jsxs)(l.z,{variant:"outline",size:"sm",className:"gap-1 sm:gap-2 text-xs sm:text-sm",onClick:_,children:[s.jsx(f,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Receipt"})]}),s.jsx(l.z,{variant:"outline",size:"sm",className:"gap-1 sm:gap-2 text-red-500 hover:bg-red-500/10 hover:text-red-500",onClick:R,disabled:T,children:s.jsx(x.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]})}},8596:(e,t,a)=>{a.d(t,{U:()=>B});var s=a(7685),r=a(3810),n=a(4283),i=a(4887),l=a(7869),c=a(8118),o=a(6872),d=a(2724),h=a(9294),u=a(2530),m=a(2518),p=a(1090),f=a(3871),x="Checkbox",[g,j]=(0,o.b)(x),[y,N]=g(x);function w(e){let{__scopeCheckbox:t,checked:a,children:n,defaultChecked:i,disabled:l,form:c,name:o,onCheckedChange:d,required:u,value:m="on",internal_do_not_use_render:p}=e,[f,g]=(0,h.T)({prop:a,defaultProp:i??!1,onChange:d,caller:x}),[j,N]=r.useState(null),[w,b]=r.useState(null),v=r.useRef(!1),k=!j||!!c||!!j.closest("form"),C={checked:f,disabled:l,setChecked:g,control:j,setControl:N,name:o,form:c,value:m,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:!T(i)&&i,isFormControl:k,bubbleInput:w,setBubbleInput:b};return(0,s.jsx)(y,{scope:t,...C,children:"function"==typeof p?p(C):n})}var b="CheckboxTrigger",v=r.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:a,...n},i)=>{let{control:l,value:o,disabled:h,checked:u,required:m,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:y}=N(b,e),w=(0,c.e)(i,p),v=r.useRef(u);return r.useEffect(()=>{let e=l?.form;if(e){let t=()=>x(v.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,x]),(0,s.jsx)(f.WV.button,{type:"button",role:"checkbox","aria-checked":T(u)?"mixed":u,"aria-required":m,"data-state":P(u),"data-disabled":h?"":void 0,disabled:h,value:o,...n,ref:w,onKeyDown:(0,d.Mj)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,d.Mj)(a,e=>{x(e=>!!T(e)||!e),y&&j&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});v.displayName=b;var k=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:r,checked:n,defaultChecked:i,required:l,disabled:c,value:o,onCheckedChange:d,form:h,...u}=e;return(0,s.jsx)(w,{__scopeCheckbox:a,checked:n,defaultChecked:i,disabled:c,required:l,onCheckedChange:d,name:r,form:h,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{...u,ref:t,__scopeCheckbox:a}),e&&(0,s.jsx)(z,{__scopeCheckbox:a})]})})});k.displayName=x;var C="CheckboxIndicator",$=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:r,...n}=e,i=N(C,a);return(0,s.jsx)(p.z,{present:r||T(i.checked)||!0===i.checked,children:(0,s.jsx)(f.WV.span,{"data-state":P(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});$.displayName=C;var S="CheckboxBubbleInput",z=r.forwardRef(({__scopeCheckbox:e,...t},a)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:o,required:d,disabled:h,name:p,value:x,form:g,bubbleInput:j,setBubbleInput:y}=N(S,e),w=(0,c.e)(a,y),b=(0,u.D)(l),v=(0,m.t)(n);r.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(b!==l&&e){let a=new Event("click",{bubbles:t});j.indeterminate=T(l),e.call(j,!T(l)&&l),j.dispatchEvent(a)}},[j,b,l,i]);let k=r.useRef(!T(l)&&l);return(0,s.jsx)(f.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??k.current,required:d,disabled:h,name:p,value:x,form:g,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function T(e){return"indeterminate"===e}function P(e){return T(e)?"indeterminate":e?"checked":"unchecked"}z.displayName=S;var _=a(3197),I=a(4120);let R=r.forwardRef(({className:e,...t},a)=>s.jsx(k,{ref:a,className:(0,I.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx($,{className:(0,I.cn)("flex items-center justify-center text-current"),children:s.jsx(_.Z,{className:"h-4 w-4"})})}));R.displayName=k.displayName;var Z=a(4177),D=a(5944),E=a(9881),F=a(3096),A=a(7063);function B({entities:e,selectedEntityId:t,onSuccess:a}){let{user:c}=(0,A.useAuth)(),[o,d]=(0,r.useState)(!1),[h,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(t||""),[f,x]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),[y,N]=(0,r.useState)("1"),[w,b]=(0,r.useState)("100"),[v,k]=(0,r.useState)(!1),[C,$]=(0,r.useState)("");(0,r.useEffect)(()=>{if(c?.rafflerName&&j(c.rafflerName),!t&&c?.assignedEntities?.length){let t=e.find(e=>c.assignedEntities.includes(e.id));t&&p(t.id)}},[c,t,e]);let S=async e=>{e.preventDefault(),u(!0);try{let e=await (0,E.nx)({entityId:m,buyerName:f,rafflerName:g,ticketCount:parseInt(y),pricePerTicket:parseFloat(w),isGift:v,gifterName:v?C:void 0});e&&(a?.(e.receipt),d(!1),x(""),N("1"),k(!1),$(""))}catch(e){console.error("Failed to purchase tickets:",e)}finally{u(!1)}},z=parseInt(y||"0")*parseFloat(w||"0");return(0,s.jsxs)(Z.Vq,{open:o,onOpenChange:d,children:[s.jsx(Z.hg,{asChild:!0,children:(0,s.jsxs)(n.z,{className:"gap-2",children:[s.jsx(F.Z,{className:"h-4 w-4"}),"Purchase Tickets"]})}),(0,s.jsxs)(Z.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(Z.fK,{children:[s.jsx(Z.$N,{children:"Purchase Raffle Tickets"}),s.jsx(Z.Be,{children:"Fill in the details to purchase raffle tickets."})]}),(0,s.jsxs)("form",{onSubmit:S,children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(l._,{htmlFor:"entity",children:"Club Entity"}),(0,s.jsxs)(D.Ph,{value:m,onValueChange:p,children:[s.jsx(D.i4,{children:s.jsx(D.ki,{placeholder:"Select a club"})}),s.jsx(D.Bw,{children:e.map(e=>(0,s.jsxs)(D.Ql,{value:e.id,children:[e.emoji," ",e.displayName]},e.id))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(l._,{htmlFor:"buyerName",children:"Buyer Name"}),s.jsx(i.I,{id:"buyerName",value:f,onChange:e=>x(e.target.value),placeholder:"Enter buyer's name",required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(l._,{htmlFor:"rafflerName",children:"Raffler Name (Seller)"}),s.jsx(i.I,{id:"rafflerName",value:g,onChange:e=>j(e.target.value),placeholder:"Enter seller's name",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(l._,{htmlFor:"ticketCount",children:"Number of Tickets"}),s.jsx(i.I,{id:"ticketCount",type:"number",min:"1",value:y,onChange:e=>N(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(l._,{htmlFor:"pricePerTicket",children:"Price per Ticket ($)"}),s.jsx(i.I,{id:"pricePerTicket",type:"number",min:"0",step:"0.01",value:w,onChange:e=>b(e.target.value),required:!0})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(R,{id:"isGift",checked:v,onCheckedChange:e=>k(!0===e)}),s.jsx(l._,{htmlFor:"isGift",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"\uD83C\uDF81 This is a gift"})]}),v&&(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(l._,{htmlFor:"gifterName",children:"Gifter Name (Who is giving this gift?)"}),s.jsx(i.I,{id:"gifterName",value:C,onChange:e=>$(e.target.value),placeholder:"Enter gifter's name",required:v})]}),(0,s.jsxs)("div",{className:"rounded-lg bg-muted p-3 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:["$",z.toFixed(2)]})]})]}),s.jsx(Z.cN,{children:s.jsx(n.z,{type:"submit",disabled:h||!m,children:h?"Processing...":"Complete Purchase"})})]})]})]})}},8721:(e,t,a)=>{a.d(t,{$:()=>d});var s=a(7685),r=a(3810),n=a(4283),i=a(4177),l=a(3197),c=a(3071);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,a(7879).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function d({receipt:e,open:t,onOpenChange:a}){let[d,h]=(0,r.useState)(!1),u=async()=>{await navigator.clipboard.writeText(e),h(!0),setTimeout(()=>h(!1),2e3)};return s.jsx(i.Vq,{open:t,onOpenChange:a,children:(0,s.jsxs)(i.cZ,{className:"sm:max-w-[500px] max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsx(i.fK,{children:s.jsx(i.$N,{className:"text-center",children:"\uD83C\uDF9Fï¸ Purchase Receipt"})}),s.jsx("div",{className:"receipt-box my-4 overflow-auto flex-1",children:s.jsx("pre",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:e})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[s.jsx(n.z,{variant:"outline",onClick:u,className:"gap-2 w-full sm:w-auto",children:d?(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.Z,{className:"h-4 w-4"}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{className:"h-4 w-4"}),"Copy Receipt"]})}),(0,s.jsxs)(n.z,{variant:"outline",onClick:()=>{let t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`raffle-receipt-${Date.now()}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},className:"gap-2 w-full sm:w-auto",children:[s.jsx(o,{className:"h-4 w-4"}),"Download"]})]})]})})}},5090:(e,t,a)=>{a.d(t,{C:()=>l});var s=a(7685);a(3810);var r=a(1727),n=a(4120);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return s.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...a})}},3920:(e,t,a)=>{a.d(t,{Ol:()=>l,SZ:()=>o,Zb:()=>i,aY:()=>d,ll:()=>c});var s=a(7685),r=a(3810),n=a(4120);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},5944:(e,t,a)=>{a.d(t,{Bw:()=>f,Ph:()=>d,Ql:()=>x,i4:()=>u,ki:()=>h});var s=a(7685),r=a(3810),n=a(2010),i=a(4610),l=a(4427),c=a(3197),o=a(4120);let d=n.fC;n.ZA;let h=n.B4,u=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(n.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=n.xz.displayName;let m=r.forwardRef(({className:e,...t},a)=>s.jsx(n.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l.Z,{className:"h-4 w-4"})}));m.displayName=n.u_.displayName;let p=r.forwardRef(({className:e,...t},a)=>s.jsx(n.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=n.$G.displayName;let f=r.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>s.jsx(n.h_,{children:(0,s.jsxs)(n.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(m,{}),s.jsx(n.l_,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(p,{})]})}));f.displayName=n.VY.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let x=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(c.Z,{className:"h-4 w-4"})})}),s.jsx(n.eT,{children:t})]}));x.displayName=n.ck.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},9881:(e,t,a)=>{a.d(t,{FJ:()=>N,GP:()=>m,JP:()=>n,Ks:()=>l,RJ:()=>y,i8:()=>i,jJ:()=>h,jg:()=>p,mz:()=>f,nx:()=>c,oQ:()=>x,pz:()=>d,qu:()=>o,s$:()=>g,uU:()=>u,uc:()=>r,yj:()=>j});let s=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api";async function r(){let e=localStorage.getItem("auth_token"),t=await fetch(`${s}/entities`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function n(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/entities`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await a.json()).data||null}async function i(e,t){let a=localStorage.getItem("auth_token"),r=await fetch(`${s}/entities/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(t)});return(await r.json()).data||null}async function l(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/entities/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function c(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/purchase`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await a.json()).data||null}async function o(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/reset-counter/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function d(e,t){let a=localStorage.getItem("auth_token"),r=await fetch(`${s}/tickets/purchases/${e}/payment`,{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({isPaid:t})});return(await r.json()).data||null}async function h(e,t){let a=localStorage.getItem("auth_token"),r=await fetch(`${s}/tickets/purchases/${e}/buyer`,{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({buyerName:t})});return(await r.json()).data||null}async function u(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/purchases/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function m(){let e=localStorage.getItem("auth_token"),t=await fetch(`${s}/tickets/purchases`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function p(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/purchases/${e}/receipt/text`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return a.ok?a.text():null}function f(){let e=localStorage.getItem("auth_token"),t=`${s}/export/all`;return e?`${t}?token=${encodeURIComponent(e)}`:t}function x(e){let t=localStorage.getItem("auth_token"),a=`${s}/export/entity/${e}`;return t?`${a}?token=${encodeURIComponent(t)}`:a}async function g(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/sessions/active/${e}`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).data||null}async function j(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/sessions/start`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({entityId:e})}),r=await a.json();if(!r.success&&r.error)throw Error(r.error);return r.data||null}async function y(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/sessions/close/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}}),r=await a.json();if(!r.success&&r.error)throw Error(r.error);return r.data||null}async function N(e,t){let a=localStorage.getItem("auth_token"),r=`${s}/tickets/purchases/entity/${e}`,n=new URLSearchParams;t?.sessionOnly&&n.append("sessionOnly","true"),t?.sessionId&&n.append("sessionId",t.sessionId),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),n.toString()&&(r+=`?${n.toString()}`);let i=await fetch(r,{headers:a?{Authorization:`Bearer ${a}`}:{}});return(await i.json()).data||[]}}};