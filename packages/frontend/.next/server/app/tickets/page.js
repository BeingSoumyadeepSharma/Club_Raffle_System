(()=>{var e={};e.id=988,e.ids=[988],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8418:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var a=t(9441),l=t(1498),r=t(6580),n=t.n(r),i=t(5511),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6573)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/tickets/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4831)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,3250,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/tickets/page.tsx"],x="/tickets/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/tickets/page",pathname:"/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5202:(e,s,t)=>{Promise.resolve().then(t.bind(t,7421))},7421:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>X});var a=t(7685),l=t(3810),r=t(7986),n=t(7356),i=t(8596),c=t(4283),d=t(4887),o=t(7869),x=t(4120);let m=l.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,x.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));m.displayName="Textarea";var u=t(4177),h=t(5944),p=t(9881),f=t(7879);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,f.Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),j=(0,f.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var N=t(3197),v=t(3071),y=t(7063);function b({entities:e,onCounterReset:s}){let{user:t}=(0,y.useAuth)(),[r,n]=(0,l.useState)(!1),[i,x]=(0,l.useState)(!1),[f,b]=(0,l.useState)(""),[k,w]=(0,l.useState)(""),[S,C]=(0,l.useState)("100"),[P,T]=(0,l.useState)(""),[F,R]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(t?.rafflerName&&w(t.rafflerName),!f&&t?.assignedEntities?.length){let s=e.find(e=>t.assignedEntities.includes(e.id));s&&b(s.id)}},[t,e,f]);let _=async()=>{if(f&&k&&S){x(!0);try{let e=await (0,p.Un)({entityId:f,rafflerName:k,pricePerTicket:parseFloat(S)});e&&T(e)}catch(e){console.error("Failed to generate announcement:",e)}finally{x(!1)}}},E=async()=>{await navigator.clipboard.writeText(P),R(!0),setTimeout(()=>R(!1),2e3)},D=async()=>{if(f&&confirm("Are you sure you want to reset the ticket counter? This will start ticket numbers from 1 again.")){x(!0);try{await (0,p.qu)(f)&&(alert("Ticket counter has been reset to 0!"),s?.())}catch(e){console.error("Failed to reset counter:",e)}finally{x(!1)}}};return e.find(e=>e.id===f),(0,a.jsxs)(u.Vq,{open:r,onOpenChange:n,children:[a.jsx(u.hg,{asChild:!0,children:(0,a.jsxs)(c.z,{variant:"outline",className:"gap-2",children:[a.jsx(g,{className:"h-4 w-4"}),"Announcement"]})}),(0,a.jsxs)(u.cZ,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(u.fK,{children:[a.jsx(u.$N,{children:"Generate Raffle Announcement"}),a.jsx(u.Be,{children:"Create an announcement with current stats and prize amount (70% of revenue)"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o._,{htmlFor:"entity",children:"Club Entity"}),(0,a.jsxs)(h.Ph,{value:f,onValueChange:b,children:[a.jsx(h.i4,{children:a.jsx(h.ki,{placeholder:"Select a club"})}),a.jsx(h.Bw,{children:e.map(e=>(0,a.jsxs)(h.Ql,{value:e.id,children:[e.emoji," ",e.displayName]},e.id))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o._,{htmlFor:"rafflerName",children:"Your Name (Raffler)"}),a.jsx(d.I,{id:"rafflerName",value:k,onChange:e=>w(e.target.value),placeholder:"Enter your name"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o._,{htmlFor:"pricePerTicket",children:"Price per Ticket ($)"}),a.jsx(d.I,{id:"pricePerTicket",type:"number",min:"0",step:"1",value:S,onChange:e=>C(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(c.z,{onClick:_,disabled:i||!f||!k,className:"flex-1",children:"Generate Announcement"}),(0,a.jsxs)(c.z,{variant:"destructive",onClick:D,disabled:i||!f,className:"gap-2",children:[a.jsx(j,{className:"h-4 w-4"}),"Reset Counter"]})]}),P&&(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o._,{children:"Generated Announcement"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(m,{value:P,readOnly:!0,className:"min-h-[120px] pr-12"}),a.jsx(c.z,{size:"icon",variant:"ghost",className:"absolute top-2 right-2",onClick:E,children:F?a.jsx(N.Z,{className:"h-4 w-4 text-green-500"}):a.jsx(v.Z,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the copy button to copy the announcement to your clipboard."})]})]}),a.jsx(u.cN,{children:a.jsx(c.z,{variant:"outline",onClick:()=>n(!1),children:"Close"})})]})]})}var k=t(8721),w=t(5090),S=t(3920);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,f.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),P=(0,f.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),T=(0,f.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),F=(0,f.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var R=t(3096),_=t(6620);function E({entityId:e,entityName:s,activeSession:t,onSessionChange:r}){let[n,i]=(0,l.useState)(!1),[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(null),h=async()=>{i(!0),m(null);try{await (0,p.yj)(e),r()}catch(e){m(e.message||"Failed to start session")}finally{i(!1)}},f=async()=>{if(t){i(!0),m(null);try{await (0,p.RJ)(t.id),o(!1),r()}catch(e){m(e.message||"Failed to close session")}finally{i(!1)}}},g=e=>{let s=new Date(e),t=new Date().getTime()-s.getTime(),a=Math.floor(t/36e5),l=Math.floor(t%36e5/6e4);return a>0?`${a}h ${l}m`:`${l}m`};return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(S.Zb,{className:"border-green-500/50 bg-green-500/5",children:[a.jsx(S.Ol,{className:"pb-2 p-3 sm:p-6 sm:pb-2",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsxs)(w.C,{variant:"default",className:"bg-green-500",children:[a.jsx(P,{className:"h-3 w-3 mr-1"}),"Active Shift"]}),(0,a.jsxs)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Started ",g(t.startedAt)," ago"]})]}),(0,a.jsxs)(c.z,{variant:"destructive",size:"sm",onClick:()=>o(!0),className:"gap-2 w-full sm:w-auto",children:[a.jsx(T,{className:"h-4 w-4"}),"End Shift"]})]})}),(0,a.jsxs)(S.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(F,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Raffler"}),a.jsx("p",{className:"text-sm font-medium",children:t.username})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(R.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tickets Sold"}),a.jsx("p",{className:"text-sm font-medium",children:t.ticketsSold})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(_.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:["$",t.totalRevenue.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(P,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Started"}),a.jsx("p",{className:"text-sm font-medium",children:new Date(t.startedAt).toLocaleTimeString()})]})]})]}),x&&a.jsx("p",{className:"text-sm text-destructive mt-2",children:x})]})]}),a.jsx(u.Vq,{open:d,onOpenChange:o,children:(0,a.jsxs)(u.cZ,{children:[(0,a.jsxs)(u.fK,{children:[a.jsx(u.$N,{children:"End Shift?"}),(0,a.jsxs)(u.Be,{children:["Are you sure you want to end this shift for ",s,"?"]})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Duration"}),a.jsx("p",{className:"font-medium",children:g(t.startedAt)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Tickets Sold"}),a.jsx("p",{className:"font-medium",children:t.ticketsSold})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"font-medium",children:["$",t.totalRevenue.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Ticket Range"}),(0,a.jsxs)("p",{className:"font-medium",children:[t.startTicketNumber," - ",t.endTicketNumber||t.startTicketNumber-1]})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"After ending the shift, you can start a new one. The ticket counter will reset for the next shift."})]}),(0,a.jsxs)(u.cN,{children:[a.jsx(c.z,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),a.jsx(c.z,{variant:"destructive",onClick:f,disabled:n,children:n?"Ending...":"End Shift"})]})]})})]}):a.jsx(S.Zb,{className:"border-dashed",children:(0,a.jsxs)(S.aY,{className:"pt-4 sm:pt-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"No active shift"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Start a shift to begin selling tickets. The ticket counter will reset."})]}),(0,a.jsxs)(c.z,{onClick:h,disabled:n,className:"gap-2 w-full sm:w-auto",children:[a.jsx(C,{className:"h-4 w-4"}),n?"Starting...":"Start Shift"]})]}),x&&a.jsx("p",{className:"text-sm text-destructive mt-2",children:x})]})})}var D=t(2724),Z=t(8118),A=t(6872),q=t(9294),M=t(2530),z=t(2518),$=t(3871),G="Switch",[U,L]=(0,A.b)(G),[O,V]=U(G),I=l.forwardRef((e,s)=>{let{__scopeSwitch:t,name:r,checked:n,defaultChecked:i,required:c,disabled:d,value:o="on",onCheckedChange:x,form:m,...u}=e,[h,p]=l.useState(null),f=(0,Z.e)(s,e=>p(e)),g=l.useRef(!1),j=!h||m||!!h.closest("form"),[N,v]=(0,q.T)({prop:n,defaultProp:i??!1,onChange:x,caller:G});return(0,a.jsxs)(O,{scope:t,checked:N,disabled:d,children:[(0,a.jsx)($.WV.button,{type:"button",role:"switch","aria-checked":N,"aria-required":c,"data-state":H(N),"data-disabled":d?"":void 0,disabled:d,value:o,...u,ref:f,onClick:(0,D.Mj)(e.onClick,e=>{v(e=>!e),j&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),j&&(0,a.jsx)(Y,{control:h,bubbles:!g.current,name:r,value:o,checked:N,required:c,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});I.displayName=G;var B="SwitchThumb",Q=l.forwardRef((e,s)=>{let{__scopeSwitch:t,...l}=e,r=V(B,t);return(0,a.jsx)($.WV.span,{"data-state":H(r.checked),"data-disabled":r.disabled?"":void 0,...l,ref:s})});Q.displayName=B;var Y=l.forwardRef(({__scopeSwitch:e,control:s,checked:t,bubbles:r=!0,...n},i)=>{let c=l.useRef(null),d=(0,Z.e)(c,i),o=(0,M.D)(t),x=(0,z.t)(s);return l.useEffect(()=>{let e=c.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==t&&s){let a=new Event("click",{bubbles:r});s.call(e,t),e.dispatchEvent(a)}},[o,t,r]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:d,style:{...n.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function H(e){return e?"checked":"unchecked"}Y.displayName="SwitchBubbleInput";let J=l.forwardRef(({className:e,...s},t)=>a.jsx(I,{className:(0,x.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(Q,{className:(0,x.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));J.displayName=I.displayName;var K=t(9056);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let W=(0,f.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function X(){let[e,s]=(0,l.useState)([]),[t,d]=(0,l.useState)([]),[x,m]=(0,l.useState)(""),[u,f]=(0,l.useState)(null),[g,j]=(0,l.useState)(!0),[N,v]=(0,l.useState)(""),[w,C]=(0,l.useState)(!1),[P,T]=(0,l.useState)(!0),[F,R]=(0,l.useState)(!1),{user:_,isLoading:D}=(0,y.useAuth)(),Z=(0,r.useRouter)();(0,l.useEffect)(()=>{D||_||Z.push("/login")},[_,D,Z]);let A=async()=>{let e=await (0,p.uc)();return s(e),e},q=async e=>{if("all"===e)return f(null),null;let s=await (0,p.s$)(e);return f(s),s},M=async(e,s=!0)=>{T(!0);try{if("all"===e){let e=await (0,p.GP)();d(e)}else{let t=await (0,p.FJ)(e,{sessionOnly:s});d(t)}}catch(e){console.error("Failed to load purchases:",e)}finally{T(!1)}},z=async()=>{try{let e=await A(),s="all";if(_&&"superuser"!==_.role&&_.assignedEntities.length>0){let t=_.assignedEntities.find(s=>e.some(e=>e.id===s));t&&(s=t)}if(m(s),R(!0),"all"!==s)await q(s),await M(s,g);else{let e=await (0,p.GP)();d(e),T(!1)}}catch(e){console.error("Failed to load data:",e),T(!1)}};(0,l.useEffect)(()=>{_&&z()},[_]);let $=async e=>{m(e),await q(e),await M(e,g&&"all"!==e)},G=async e=>{j(e),"all"!==x&&await M(x,e)},U=async()=>{"all"!==x&&(await q(x),await M(x,g))},L=e=>{v(e),C(!0),"all"!==x?(q(x),M(x,g)):z()},O=t.reduce((e,s)=>e+s.ticketCount,0),V=t.reduce((e,s)=>e+s.totalPrice,0),I=e.find(e=>e.id===x);return D||!_||!F||P&&0===e.length?a.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83C\uDF9F️"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Ticket Purchases"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"View and manage all ticket purchases"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(b,{entities:e,onCounterReset:z}),a.jsx(c.z,{variant:"outline",className:"gap-2 flex-1 sm:flex-none",asChild:!0,children:(0,a.jsxs)("a",{href:(0,p.mz)(),download:!0,children:[a.jsx(K.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Export"})]})}),a.jsx(i.U,{entities:e,onSuccess:L})]})]}),(0,a.jsxs)("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 md:grid-cols-4",children:[(0,a.jsxs)(S.Zb,{className:"p-3 sm:p-4",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Purchases"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:t.length})]}),(0,a.jsxs)(S.Zb,{className:"p-3 sm:p-4",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Tickets Sold"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:O})]}),(0,a.jsxs)(S.Zb,{className:"p-3 sm:p-4",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-xl sm:text-2xl font-bold",children:["$",V.toFixed(2)]})]}),(0,a.jsxs)(S.Zb,{className:"p-3 sm:p-4 bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border-amber-500/50",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"\uD83C\uDFC6 Prize (70%)"}),(0,a.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-amber-500",children:["$",Math.floor(.7*V).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[a.jsx("span",{className:"text-sm font-medium",children:"Filter by Club:"}),(0,a.jsxs)(h.Ph,{value:x,onValueChange:$,children:[a.jsx(h.i4,{className:"w-full sm:w-[250px]",children:a.jsx(h.ki,{placeholder:"Select a club"})}),(0,a.jsxs)(h.Bw,{children:[_?.role==="superuser"&&a.jsx(h.Ql,{value:"all",children:"All Clubs"}),e.map(e=>(0,a.jsxs)(h.Ql,{value:e.id,children:[e.emoji," ",e.displayName]},e.id))]})]})]}),"all"!==x&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(J,{id:"session-toggle",checked:g,onCheckedChange:G}),(0,a.jsxs)(o._,{htmlFor:"session-toggle",className:"flex items-center gap-1 text-xs sm:text-sm cursor-pointer",children:[a.jsx(W,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:g?"Current session only":"Show all history"}),a.jsx("span",{className:"sm:hidden",children:g?"Session":"All"})]})]})]}),"all"!==x&&I&&a.jsx(E,{entityId:x,entityName:I.displayName,activeSession:u,onSessionChange:U})]}),P?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):0===t.length?(0,a.jsxs)(S.Zb,{className:"p-12 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"\uD83C\uDF9F️"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"all"!==x&&u&&g?"No Purchases in Current Session":"all"===x||u?"No Purchases Yet":"No Active Session"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4",children:"all"===x||u?"Start selling raffle tickets to see purchases here.":"Start a shift to begin selling tickets."}),("all"===x||u)&&a.jsx(i.U,{entities:e,onSuccess:L})]}):a.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:t.map(s=>a.jsx(n.Q,{purchase:s,entity:e.find(e=>e.id===s.entityId),onViewReceipt:e=>{v(e),C(!0)},onDelete:()=>{"all"!==x?(q(x),M(x,g)):z()},onUpdate:()=>{"all"!==x?(q(x),M(x,g)):z()}},s.id))}),a.jsx(k.$,{receipt:N,open:w,onOpenChange:C})]})}},6573:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>n});let a=(0,t(599).createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/tickets/page.tsx`),{__esModule:l,$$typeof:r}=a,n=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[615,339,87,649,216,288],()=>t(8418));module.exports=a})();