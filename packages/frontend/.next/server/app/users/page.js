(()=>{var e={};e.id=240,e.ids=[240],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9377:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=a(9441),r=a(1498),n=a(6580),i=a.n(n),l=a(5511),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1160)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/users/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4831)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/users/page.tsx"],u="/users/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4027:(e,t,a)=>{Promise.resolve().then(a.bind(a,4205))},461:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7879).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4205:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var s=a(7685),r=a(3810),n=a(7986),i=a(7063),l=a(3920),o=a(4283),d=a(4887),c=a(7869),u=a(5090),h=a(4177),p=a(5944),m=a(9709),f=a(1964),x=a(9997),g=a(1099);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,a(7879).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var y=a(4150),w=a(3847),N=a(5943),v=a(461),b=a(4654),$=a(9881);let k=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api",S={superuser:{variant:"default",icon:s.jsx(m.Z,{className:"h-3 w-3"})},club_owner:{variant:"default",icon:s.jsx(f.Z,{className:"h-3 w-3"})},event_manager:{variant:"secondary",icon:s.jsx(x.Z,{className:"h-3 w-3"})},staff:{variant:"outline",icon:s.jsx(g.Z,{className:"h-3 w-3"})}},_={superuser:4,club_owner:3,event_manager:2,staff:1};function C(){let{user:e,isLoading:t,canManageUsers:a}=(0,i.useAuth)(),m=(0,n.useRouter)(),[f,x]=(0,r.useState)([]),[g,C]=(0,r.useState)([]),[P,A]=(0,r.useState)(!0),[z,E]=(0,r.useState)([]),[R,T]=(0,r.useState)(!1),[I,O]=(0,r.useState)(""),[B,Z]=(0,r.useState)(""),[U,D]=(0,r.useState)("staff"),[F,L]=(0,r.useState)(""),[q,J]=(0,r.useState)(!1),[H,G]=(0,r.useState)(!1),[M,V]=(0,r.useState)(null),[K,Y]=(0,r.useState)(""),[Q,X]=(0,r.useState)(!1),[W,ee]=(0,r.useState)(null),[et,ea]=(0,r.useState)(""),[es,er]=(0,r.useState)(!1),[en,ei]=(0,r.useState)(null),[el,eo]=(0,r.useState)("");(0,r.useEffect)(()=>{t||e?t||!e||a()||m.push("/"):m.push("/login")},[e,t,m,a]),(0,r.useEffect)(()=>{e&&a()&&(ed(),ec(),eu())},[e]);let ed=async()=>{try{let e=await fetch(`${k}/auth/users`,{headers:(0,i.getAuthHeaders)()}),t=await e.json();t.success&&x(t.data)}catch(e){console.error("Failed to load users:",e)}finally{A(!1)}},ec=async()=>{C(await (0,$.uc)())},eu=async()=>{try{let e=await fetch(`${k}/auth/roles/creatable`,{headers:(0,i.getAuthHeaders)()}),t=await e.json();t.success&&(E(t.data),t.data.length>0&&D(t.data[t.data.length-1]))}catch(e){console.error("Failed to load creatable roles:",e)}},eh=async e=>{e.preventDefault(),J(!0);try{let e=await fetch(`${k}/auth/users`,{method:"POST",headers:{"Content-Type":"application/json",...(0,i.getAuthHeaders)()},body:JSON.stringify({username:I,password:B,role:U,rafflerName:F||void 0})}),t=await e.json();t.success?(T(!1),O(""),Z(""),L(""),D(z[z.length-1]||"staff"),ed()):alert(t.error||"Failed to create user")}catch(e){console.error("Failed to create user:",e),alert("Failed to create user")}finally{J(!1)}},ep=async e=>{if(confirm("Are you sure you want to delete this user?"))try{let t=await fetch(`${k}/auth/users/${e}`,{method:"DELETE",headers:(0,i.getAuthHeaders)()});if(t.ok)ed();else{let e=await t.json();alert(e.error||"Failed to delete user")}}catch(e){console.error("Failed to delete user:",e)}},em=t=>!!e&&t.id!==e.id&&_[e.role]>_[t.role],ef=async()=>{if(M&&K)try{let e=await fetch(`${k}/auth/users/${M}/entities`,{method:"POST",headers:{"Content-Type":"application/json",...(0,i.getAuthHeaders)()},body:JSON.stringify({entityId:K})});if(e.ok)G(!1),V(null),Y(""),ed();else{let t=await e.json();alert(t.error||"Failed to assign entity")}}catch(e){console.error("Failed to assign entity:",e)}},ex=async(e,t)=>{try{(await fetch(`${k}/auth/users/${e}/entities/${t}`,{method:"DELETE",headers:(0,i.getAuthHeaders)()})).ok&&ed()}catch(e){console.error("Failed to unassign entity:",e)}},eg=async()=>{if(W&&et)try{let e=await fetch(`${k}/auth/users/${W}/password`,{method:"PATCH",headers:{"Content-Type":"application/json",...(0,i.getAuthHeaders)()},body:JSON.stringify({password:et})});if(e.ok)X(!1),ee(null),ea(""),alert("Password updated successfully");else{let t=await e.json();alert(t.error||"Failed to update password")}}catch(e){console.error("Failed to update password:",e)}},ej=async()=>{if(en)try{let e=await fetch(`${k}/auth/users/${en}/raffler-name`,{method:"PATCH",headers:{"Content-Type":"application/json",...(0,i.getAuthHeaders)()},body:JSON.stringify({rafflerName:el})});if(e.ok)er(!1),ei(null),eo(""),ed();else{let t=await e.json();alert(t.error||"Failed to update raffler name")}}catch(e){console.error("Failed to update raffler name:",e)}},ey=e=>{let t=g.find(t=>t.id===e);return t?`${t.emoji} ${t.displayName}`:e};return t||!a()?s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):(0,s.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Create users and assign them to club entities"})]}),(0,s.jsxs)(h.Vq,{open:R,onOpenChange:T,children:[s.jsx(h.hg,{asChild:!0,children:(0,s.jsxs)(o.z,{className:"gap-2 w-full sm:w-auto",children:[s.jsx(j,{className:"h-4 w-4"}),"Create User"]})}),(0,s.jsxs)(h.cZ,{children:[(0,s.jsxs)(h.fK,{children:[s.jsx(h.$N,{children:"Create New User"}),s.jsx(h.Be,{children:"Create a new user account and assign a role."})]}),(0,s.jsxs)("form",{onSubmit:eh,children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(c._,{children:"Username"}),s.jsx(d.I,{value:I,onChange:e=>O(e.target.value),placeholder:"Enter username",required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(c._,{children:"Password"}),s.jsx(d.I,{type:"password",value:B,onChange:e=>Z(e.target.value),placeholder:"Enter password (min 4 characters)",minLength:4,required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(c._,{children:"Raffler Name (Optional)"}),s.jsx(d.I,{value:F,onChange:e=>L(e.target.value),placeholder:"Name used for raffle entries"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This name will auto-fill when purchasing tickets or making announcements"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(c._,{children:"Role"}),(0,s.jsxs)(p.Ph,{value:U,onValueChange:e=>D(e),children:[s.jsx(p.i4,{children:s.jsx(p.ki,{placeholder:"Select a role"})}),s.jsx(p.Bw,{children:z.map(e=>s.jsx(p.Ql,{value:e,children:i.ROLE_LABELS[e]},e))})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["superuser"===U&&"Full access to all clubs and user management","club_owner"===U&&"Can edit club info and manage Event Managers & Staff","event_manager"===U&&"Can edit club info and manage Staff","staff"===U&&"Basic access to assigned clubs"]})]})]}),s.jsx(h.cN,{children:s.jsx(o.z,{type:"submit",disabled:q||0===z.length,children:q?"Creating...":"Create User"})})]})]})]})]}),P?s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."}):0===f.length?s.jsx(l.Zb,{className:"p-6 sm:p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found."})}):s.jsx("div",{className:"grid gap-3 sm:gap-4",children:f.map(t=>(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"pb-2 p-3 sm:p-6 sm:pb-2",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,s.jsxs)(l.ll,{className:"text-base sm:text-lg flex flex-wrap items-center gap-2",children:[t.username,(0,s.jsxs)(u.C,{variant:S[t.role].variant,className:"gap-1 text-xs",children:[S[t.role].icon,i.ROLE_LABELS[t.role]]})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[t.id===e?.id&&(0,s.jsxs)(o.z,{variant:"outline",size:"sm",className:"gap-1 text-xs sm:text-sm",onClick:()=>{ei(t.id),eo(t.rafflerName||""),er(!0)},children:[s.jsx(y.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Raffler Name"})]}),(t.id===e?.id||em(t))&&(0,s.jsxs)(o.z,{variant:"outline",size:"sm",className:"gap-1 text-xs sm:text-sm",onClick:()=>{ee(t.id),X(!0)},children:[s.jsx(w.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Password"})]}),em(t)&&s.jsx(o.z,{variant:"outline",size:"sm",className:"gap-1 text-red-500 hover:bg-red-500/10",onClick:()=>ep(t.id),children:s.jsx(N.Z,{className:"h-4 w-4"})}),t.id===e?.id&&s.jsx(u.C,{variant:"outline",className:"text-xs",children:"You"})]})]}),(0,s.jsxs)(l.SZ,{className:"text-xs sm:text-sm",children:["Created: ",new Date(t.createdAt).toLocaleDateString(),t.rafflerName&&(0,s.jsxs)("span",{className:"ml-2",children:["â€¢ Raffler: ",t.rafflerName]})]})]}),(0,s.jsxs)(l.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:["superuser"!==t.role&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{children:"Assigned Entities:"}),em(t)&&(0,s.jsxs)(o.z,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>{V(t.id),G(!0)},children:[s.jsx(v.Z,{className:"h-4 w-4"}),"Assign Entity"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:0===t.assignedEntities.length?s.jsx("span",{className:"text-sm text-muted-foreground",children:"No entities assigned"}):t.assignedEntities.map(e=>(0,s.jsxs)(u.C,{variant:"secondary",className:"gap-1 pr-1",children:[ey(e),em(t)&&s.jsx(o.z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive/20",onClick:()=>ex(t.id,e),children:s.jsx(b.Z,{className:"h-3 w-3"})})]},e))})]}),"superuser"===t.role&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Superusers have access to all entities"})]})]},t.id))}),s.jsx(h.Vq,{open:H,onOpenChange:G,children:(0,s.jsxs)(h.cZ,{children:[(0,s.jsxs)(h.fK,{children:[s.jsx(h.$N,{children:"Assign Entity"}),s.jsx(h.Be,{children:"Select an entity to assign to this user."})]}),s.jsx("div",{className:"py-4",children:(0,s.jsxs)(p.Ph,{value:K,onValueChange:Y,children:[s.jsx(p.i4,{children:s.jsx(p.ki,{placeholder:"Select an entity"})}),s.jsx(p.Bw,{children:g.map(e=>(0,s.jsxs)(p.Ql,{value:e.id,children:[e.emoji," ",e.displayName]},e.id))})]})}),s.jsx(h.cN,{children:s.jsx(o.z,{onClick:ef,disabled:!K,children:"Assign"})})]})}),s.jsx(h.Vq,{open:Q,onOpenChange:X,children:(0,s.jsxs)(h.cZ,{children:[(0,s.jsxs)(h.fK,{children:[s.jsx(h.$N,{children:"Update Password"}),s.jsx(h.Be,{children:"Enter a new password for this user."})]}),(0,s.jsxs)("div",{className:"py-4",children:[s.jsx(c._,{children:"New Password"}),s.jsx(d.I,{type:"password",value:et,onChange:e=>ea(e.target.value),placeholder:"Enter new password (min 4 characters)",minLength:4})]}),s.jsx(h.cN,{children:s.jsx(o.z,{onClick:eg,disabled:et.length<4,children:"Update Password"})})]})}),s.jsx(h.Vq,{open:es,onOpenChange:er,children:(0,s.jsxs)(h.cZ,{children:[(0,s.jsxs)(h.fK,{children:[s.jsx(h.$N,{children:"Update Raffler Name"}),s.jsx(h.Be,{children:"This name will auto-fill when purchasing tickets or making announcements."})]}),(0,s.jsxs)("div",{className:"py-4",children:[s.jsx(c._,{children:"Raffler Name"}),s.jsx(d.I,{value:el,onChange:e=>eo(e.target.value),placeholder:"Enter your name for raffle entries"})]}),s.jsx(h.cN,{children:s.jsx(o.z,{onClick:ej,children:"Update Raffler Name"})})]})})]})}},5090:(e,t,a)=>{"use strict";a.d(t,{C:()=>l});var s=a(7685);a(3810);var r=a(1727),n=a(4120);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return s.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...a})}},3920:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>o});var s=a(7685),r=a(3810),n=a(4120);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},5944:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>f,Ph:()=>c,Ql:()=>x,i4:()=>h,ki:()=>u});var s=a(7685),r=a(3810),n=a(2010),i=a(4610),l=a(4427),o=a(3197),d=a(4120);let c=n.fC;n.ZA;let u=n.B4,h=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(n.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=n.xz.displayName;let p=r.forwardRef(({className:e,...t},a)=>s.jsx(n.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l.Z,{className:"h-4 w-4"})}));p.displayName=n.u_.displayName;let m=r.forwardRef(({className:e,...t},a)=>s.jsx(n.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"h-4 w-4"})}));m.displayName=n.$G.displayName;let f=r.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>s.jsx(n.h_,{children:(0,s.jsxs)(n.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(p,{}),s.jsx(n.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(m,{})]})}));f.displayName=n.VY.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let x=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(o.Z,{className:"h-4 w-4"})})}),s.jsx(n.eT,{children:t})]}));x.displayName=n.ck.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},9881:(e,t,a)=>{"use strict";a.d(t,{FJ:()=>w,GP:()=>p,JP:()=>n,Ks:()=>l,RJ:()=>y,i8:()=>i,jJ:()=>u,jg:()=>m,mz:()=>f,nx:()=>o,oQ:()=>x,pz:()=>c,qu:()=>d,s$:()=>g,uU:()=>h,uc:()=>r,yj:()=>j});let s=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api";async function r(){let e=localStorage.getItem("auth_token"),t=await fetch(`${s}/entities`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function n(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/entities`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await a.json()).data||null}async function i(e,t){let a=localStorage.getItem("auth_token"),r=await fetch(`${s}/entities/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(t)});return(await r.json()).data||null}async function l(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/entities/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function o(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/purchase`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await a.json()).data||null}async function d(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/reset-counter/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function c(e,t){let a=localStorage.getItem("auth_token"),r=await fetch(`${s}/tickets/purchases/${e}/payment`,{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({isPaid:t})});return(await r.json()).data||null}async function u(e,t){let a=localStorage.getItem("auth_token"),r=await fetch(`${s}/tickets/purchases/${e}/buyer`,{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({buyerName:t})});return(await r.json()).data||null}async function h(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/purchases/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function p(){let e=localStorage.getItem("auth_token"),t=await fetch(`${s}/tickets/purchases`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function m(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/tickets/purchases/${e}/receipt/text`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return a.ok?a.text():null}function f(){let e=localStorage.getItem("auth_token"),t=`${s}/export/all`;return e?`${t}?token=${encodeURIComponent(e)}`:t}function x(e){let t=localStorage.getItem("auth_token"),a=`${s}/export/entity/${e}`;return t?`${a}?token=${encodeURIComponent(t)}`:a}async function g(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/sessions/active/${e}`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).data||null}async function j(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/sessions/start`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({entityId:e})}),r=await a.json();if(!r.success&&r.error)throw Error(r.error);return r.data||null}async function y(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${s}/sessions/close/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}}),r=await a.json();if(!r.success&&r.error)throw Error(r.error);return r.data||null}async function w(e,t){let a=localStorage.getItem("auth_token"),r=`${s}/tickets/purchases/entity/${e}`,n=new URLSearchParams;t?.sessionOnly&&n.append("sessionOnly","true"),t?.sessionId&&n.append("sessionId",t.sessionId),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),n.toString()&&(r+=`?${n.toString()}`);let i=await fetch(r,{headers:a?{Authorization:`Bearer ${a}`}:{}});return(await i.json()).data||[]}},1160:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let s=(0,a(599).createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/users/page.tsx`),{__esModule:r,$$typeof:n}=s,i=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[375,13,87,649],()=>a(9377));module.exports=s})();