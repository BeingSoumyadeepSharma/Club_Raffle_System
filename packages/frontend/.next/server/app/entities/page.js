(()=>{var e={};e.id=146,e.ids=[146],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=r(9441),s=r(1498),n=r(6580),i=r.n(n),o=r(5511),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["entities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3564)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/entities/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4831)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/entities/page.tsx"],u="/entities/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/entities/page",pathname:"/entities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3623:(e,t,r)=>{Promise.resolve().then(r.bind(r,8037))},9056:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7879).Z)("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]])},461:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7879).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8037:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eo});var a=r(7685),s=r(3810),n=r(7986),i=r(7998),o=r(4283),l=r(4887),d=r(7869),c=r(2624),u=r(2724),m=r(8118),h=r(6872),p=r(9294),f=r(7079),x=r(2530),g=r(2518),y=r(3871),j=r(3908),v=["PageUp","PageDown"],b=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],w={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},D="Slider",[N,S,C]=(0,j.B)(D),[k,P]=(0,h.b)(D,[C]),[_,$]=k(D),E=s.forwardRef((e,t)=>{let{name:r,min:n=0,max:i=100,step:o=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:m=0,defaultValue:h=[n],value:f,onValueChange:x=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:j,...w}=e,D=s.useRef(new Set),S=s.useRef(0),C="horizontal"===l?z:F,[k=[],P]=(0,p.T)({prop:f,defaultProp:h,onChange:e=>{let t=[...D.current];t[S.current]?.focus(),x(e)}}),$=s.useRef(k);function E(e,t,{commit:r}={commit:!1}){let a=(String(o).split(".")[1]||"").length,s=function(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-n)/o)*o+n,a),l=(0,c.u)(s,[n,i]);P((e=[])=>{var a,s;let n=function(e=[],t,r){let a=[...e];return a[r]=t,a.sort((e,t)=>e-t)}(e,l,t);if(a=n,!(!((s=m*o)>0)||Math.min(...a.slice(0,-1).map((e,t)=>a[t+1]-e))>=s))return e;{S.current=n.indexOf(l);let t=String(n)!==String(e);return t&&r&&g(n),t?n:e}})}return(0,a.jsx)(_,{scope:e.__scopeSlider,name:r,disabled:d,min:n,max:i,valueIndexToChangeRef:S,thumbs:D.current,values:k,orientation:l,form:j,children:(0,a.jsx)(N.Provider,{scope:e.__scopeSlider,children:(0,a.jsx)(N.Slot,{scope:e.__scopeSlider,children:(0,a.jsx)(C,{"aria-disabled":d,"data-disabled":d?"":void 0,...w,ref:t,onPointerDown:(0,u.Mj)(w.onPointerDown,()=>{d||($.current=k)}),min:n,max:i,inverted:y,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t));return r.indexOf(Math.min(...r))}(k,e);E(e,t)},onSlideMove:d?void 0:function(e){E(e,S.current)},onSlideEnd:d?void 0:function(){let e=$.current[S.current];k[S.current]!==e&&g(k)},onHomeKeyDown:()=>!d&&E(n,0,{commit:!0}),onEndKeyDown:()=>!d&&E(i,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let r=v.includes(e.key)||e.shiftKey&&b.includes(e.key),a=S.current;E(k[a]+o*(r?10:1)*t,a,{commit:!0})}}})})})})});E.displayName=D;var[A,R]=k(D,{startEdge:"left",endEdge:"right",size:"width",direction:1}),z=s.forwardRef((e,t)=>{let{min:r,max:n,dir:i,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...h}=e,[p,x]=s.useState(null),g=(0,m.e)(t,e=>x(e)),y=s.useRef(void 0),j=(0,f.gm)(i),v="ltr"===j,b=v&&!o||!v&&o;function D(e){let t=y.current||p.getBoundingClientRect(),a=V([0,t.width],b?[r,n]:[n,r]);return y.current=t,a(e-t.left)}return(0,a.jsx)(A,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,a.jsx)(I,{dir:j,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=D(e.clientX);l?.(t)},onSlideMove:e=>{let t=D(e.clientX);d?.(t)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:e=>{let t=w[b?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),F=s.forwardRef((e,t)=>{let{min:r,max:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:c,...u}=e,h=s.useRef(null),p=(0,m.e)(t,h),f=s.useRef(void 0),x=!i;function g(e){let t=f.current||h.current.getBoundingClientRect(),a=V([0,t.height],x?[n,r]:[r,n]);return f.current=t,a(e-t.top)}return(0,a.jsx)(A,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,a.jsx)(I,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=g(e.clientY);o?.(t)},onSlideMove:e=>{let t=g(e.clientY);l?.(t)},onSlideEnd:()=>{f.current=void 0,d?.()},onStepKeyDown:e=>{let t=w[x?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),I=s.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:s,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...c}=e,m=$(D,r);return(0,a.jsx)(y.WV.span,{...c,ref:t,onKeyDown:(0,u.Mj)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):v.concat(b).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,u.Mj)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),m.thumbs.has(t)?t.focus():s(e)}),onPointerMove:(0,u.Mj)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&n(e)}),onPointerUp:(0,u.Mj)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))})})}),M="SliderTrack",B=s.forwardRef((e,t)=>{let{__scopeSlider:r,...s}=e,n=$(M,r);return(0,a.jsx)(y.WV.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:t})});B.displayName=M;var T="SliderRange",O=s.forwardRef((e,t)=>{let{__scopeSlider:r,...n}=e,i=$(T,r),o=R(T,r),l=s.useRef(null),d=(0,m.e)(t,l),c=i.values.length,u=i.values.map(e=>H(e,i.min,i.max));return(0,a.jsx)(y.WV.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:d,style:{...e.style,[o.startEdge]:(c>1?Math.min(...u):0)+"%",[o.endEdge]:100-Math.max(...u)+"%"}})});O.displayName=T;var U="SliderThumb",L=s.forwardRef((e,t)=>{let r=S(e.__scopeSlider),[n,i]=s.useState(null),o=(0,m.e)(t,e=>i(e)),l=s.useMemo(()=>n?r().findIndex(e=>e.ref.current===n):-1,[r,n]);return(0,a.jsx)(q,{...e,ref:o,index:l})}),q=s.forwardRef((e,t)=>{let{__scopeSlider:r,index:n,name:i,...o}=e,l=$(U,r),d=R(U,r),[c,h]=s.useState(null),p=(0,m.e)(t,e=>h(e)),f=!c||l.form||!!c.closest("form"),x=(0,g.t)(c),j=l.values[n],v=void 0===j?0:H(j,l.min,l.max),b=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(n,l.values.length),w=x?.[d.size],D=w?function(e,t,r){let a=e/2,s=V([0,50],[0,a]);return(a-s(t)*r)*r}(w,v,d.direction):0;return s.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),(0,a.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${v}% + ${D}px)`},children:[(0,a.jsx)(N.ItemSlot,{scope:e.__scopeSlider,children:(0,a.jsx)(y.WV.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":l.min,"aria-valuenow":j,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:p,style:void 0===j?{display:"none"}:e.style,onFocus:(0,u.Mj)(e.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),f&&(0,a.jsx)(Z,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:j},n)]})});L.displayName=U;var Z=s.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{let i=s.useRef(null),o=(0,m.e)(i,n),l=(0,x.D)(t);return s.useEffect(()=>{let e=i.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==t&&r){let a=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(a)}},[l,t]),(0,a.jsx)(y.WV.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});function H(e,t,r){return(0,c.u)(100/(r-t)*(e-t),[0,100])}function V(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}Z.displayName="RadioBubbleInput";var K=r(4120);let G=s.forwardRef(({className:e,...t},r)=>(0,a.jsxs)(E,{ref:r,className:(0,K.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(B,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(O,{className:"absolute h-full bg-primary"})}),a.jsx(L,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));G.displayName=E.displayName;var J=r(4177),Y=r(9881),W=r(461);let X=["\uD83C\uDFB2","\uD83C\uDFB0","\uD83C\uDFAD","\uD83C\uDFAF","\uD83D\uDC8E","\uD83D\uDC51","\uD83C\uDF1F","\uD83C\uDF12","\uD83D\uDDA4\uD83D\uDDA4\uD83D\uDDA4"];function Q({onSuccess:e}){let[t,r]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)("\uD83C\uDFB2"),[x,g]=(0,s.useState)("Thanks for your Purchase.. and good luck~"),[y,j]=(0,s.useState)(70),v=async t=>{t.preventDefault(),i(!0);try{let t=await (0,Y.JP)({name:c.toLowerCase().replace(/\s+/g,"-"),displayName:m,emoji:p,tagline:x,rafflePercentage:y});t&&(e?.(t),r(!1),u(""),h(""),f("\uD83C\uDFB2"),g("Thanks for your Purchase.. and good luck~"),j(70))}catch(e){console.error("Failed to create entity:",e)}finally{i(!1)}};return(0,a.jsxs)(J.Vq,{open:t,onOpenChange:r,children:[a.jsx(J.hg,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",className:"gap-2",children:[a.jsx(W.Z,{className:"h-4 w-4"}),"Create Club"]})}),(0,a.jsxs)(J.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(J.fK,{children:[a.jsx(J.$N,{children:"Create New Club Entity"}),a.jsx(J.Be,{children:"Create a new club for your raffle system."})]}),(0,a.jsxs)("form",{onSubmit:v,children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{htmlFor:"displayName",children:"Club Name"}),a.jsx(l.I,{id:"displayName",value:m,onChange:e=>{h(e.target.value),u(e.target.value.toLowerCase().replace(/\s+/g,"-"))},placeholder:"e.g., GODFATHER'S CLUB",required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{children:"Select Emoji"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(e=>a.jsx("button",{type:"button",onClick:()=>f(e),className:`text-2xl p-2 rounded-lg border-2 transition-colors ${p===e?"border-primary bg-primary/10":"border-transparent hover:border-muted-foreground/30"}`,children:e},e))})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{htmlFor:"tagline",children:"Tagline"}),a.jsx(l.I,{id:"tagline",value:x,onChange:e=>g(e.target.value),placeholder:"Enter a catchy tagline"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(d._,{children:["Prize Percentage: ",y,"%"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(G,{value:[y],onValueChange:e=>j(e[0]),min:10,max:100,step:5,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:[y,"%"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage of revenue allocated for the prize pool"})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-muted p-4 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview"}),(0,a.jsxs)("p",{className:"text-lg font-bold",children:[p," ",m||"CLUB NAME"," ",p]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:x}),(0,a.jsxs)("p",{className:"text-xs text-amber-500 mt-2",children:["\uD83C\uDFC6 Prize: ",y,"% of revenue"]})]})]}),a.jsx(J.cN,{children:a.jsx(o.z,{type:"submit",disabled:n||!m,children:n?"Creating...":"Create Club"})})]})]})]})}var ee=r(4150);let et=["\uD83C\uDFB2","\uD83C\uDFB0","\uD83C\uDFAD","\uD83C\uDFAF","\uD83D\uDC8E","\uD83D\uDC51","\uD83C\uDF1F","\uD83C\uDF12","\uD83D\uDDA4\uD83D\uDDA4\uD83D\uDDA4"];function er({entity:e,onSuccess:t}){let[r,n]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(e.displayName),[h,p]=(0,s.useState)(e.emoji),[f,x]=(0,s.useState)(e.tagline),[g,y]=(0,s.useState)(e.rafflePercentage??70),j=async r=>{r.preventDefault(),c(!0);try{let r=await (0,Y.i8)(e.id,{displayName:u,emoji:h,tagline:f,rafflePercentage:g});r&&(t?.(r),n(!1))}catch(e){console.error("Failed to update entity:",e)}finally{c(!1)}};return(0,a.jsxs)(J.Vq,{open:r,onOpenChange:t=>{t&&(m(e.displayName),p(e.emoji),x(e.tagline),y(e.rafflePercentage??70)),n(t)},children:[a.jsx(J.hg,{asChild:!0,children:a.jsx(o.z,{variant:"outline",size:"icon",title:"Edit Club",children:a.jsx(ee.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(J.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(J.fK,{children:[a.jsx(J.$N,{children:"Edit Club Entity"}),a.jsx(J.Be,{children:"Update the club settings and raffle percentage."})]}),(0,a.jsxs)("form",{onSubmit:j,children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{htmlFor:"displayName",children:"Club Name"}),a.jsx(l.I,{id:"displayName",value:u,onChange:e=>m(e.target.value),placeholder:"e.g., GODFATHER'S CLUB",required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{children:"Select Emoji"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:et.map(e=>a.jsx("button",{type:"button",onClick:()=>p(e),className:`text-2xl p-2 rounded-lg border-2 transition-colors ${h===e?"border-primary bg-primary/10":"border-transparent hover:border-muted-foreground/30"}`,children:e},e))})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(d._,{htmlFor:"tagline",children:"Tagline"}),a.jsx(l.I,{id:"tagline",value:f,onChange:e=>x(e.target.value),placeholder:"Enter a catchy tagline"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(d._,{children:["Prize Percentage: ",g,"%"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(G,{value:[g],onValueChange:e=>y(e[0]),min:10,max:100,step:5,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:[g,"%"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage of revenue allocated for the prize pool"})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-muted p-4 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview"}),(0,a.jsxs)("p",{className:"text-lg font-bold",children:[h," ",u||"CLUB NAME"," ",h]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f}),(0,a.jsxs)("p",{className:"text-xs text-amber-500 mt-2",children:["\uD83C\uDFC6 Prize: ",g,"% of revenue"]})]})]}),a.jsx(J.cN,{children:a.jsx(o.z,{type:"submit",disabled:i||!u,children:i?"Saving...":"Save Changes"})})]})]})]})}var ea=r(3920),es=r(7063),en=r(9056),ei=r(5943);function eo(){let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)(!0),{user:d,isLoading:c,canCreateClubs:u}=(0,es.useAuth)(),m=(0,n.useRouter)();(0,s.useEffect)(()=>{c||d||m.push("/login")},[d,c,m]);let h=!c&&u(),p=d?.role==="superuser",f=async()=>{try{let e=await (0,Y.uc)();t(e)}catch(e){console.error("Failed to load entities:",e)}finally{l(!1)}};(0,s.useEffect)(()=>{d&&f()},[d]);let x=async e=>{confirm("Are you sure you want to delete this club?")&&(await (0,Y.Ks)(e),f())};return c||!d||r?a.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83C\uDFE2"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Club Entities"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Manage your raffle club entities"})]}),h&&a.jsx(Q,{onSuccess:f})]}),0===e.length?(0,a.jsxs)(ea.Zb,{className:"p-6 sm:p-12 text-center",children:[a.jsx("div",{className:"text-4xl sm:text-6xl mb-4",children:"\uD83C\uDFE2"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"No Clubs Yet"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4",children:h?"Create your first club entity to start selling raffle tickets.":"No clubs available. Contact a superuser to create one."}),h&&a.jsx(Q,{onSuccess:f})]}):a.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx(i.m,{entity:e}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[a.jsx(o.z,{variant:"outline",size:"icon",asChild:!0,children:a.jsx("a",{href:(0,Y.oQ)(e.id),download:!0,title:"Export to Excel",children:a.jsx(en.Z,{className:"h-4 w-4"})})}),a.jsx(er,{entity:e,onSuccess:f}),p&&a.jsx(o.z,{variant:"destructive",size:"icon",onClick:()=>x(e.id),children:a.jsx(ei.Z,{className:"h-4 w-4"})})]})]},e.id))})]})}},7998:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var a=r(7685),s=r(3920),n=r(5090);function i({entity:e,onClick:t,selected:r}){return(0,a.jsxs)(s.Zb,{className:`cursor-pointer transition-all hover:shadow-lg ${r?"ring-2 ring-primary":""}`,onClick:t,children:[(0,a.jsxs)(s.Ol,{className:"pb-2 p-3 sm:p-6 sm:pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-3xl sm:text-4xl",children:e.emoji}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-end",children:[(0,a.jsxs)(n.C,{variant:"outline",className:"text-amber-500 border-amber-500 text-xs",children:["\uD83C\uDFC6 ",e.rafflePercentage??70,"%"]}),a.jsx(n.C,{variant:r?"default":"secondary",className:"text-xs",children:e.name})]})]}),a.jsx(s.ll,{className:"text-lg sm:text-xl",children:e.displayName}),a.jsx(s.SZ,{className:"text-xs sm:text-sm line-clamp-2",children:e.tagline})]}),a.jsx(s.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})})]})}},5090:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var a=r(7685);r(3810);var s=r(1727),n=r(4120);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return a.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...r})}},3920:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>l});var a=r(7685),s=r(3810),n=r(4120);let i=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},9881:(e,t,r)=>{"use strict";r.d(t,{FJ:()=>v,GP:()=>h,JP:()=>n,Ks:()=>o,RJ:()=>j,i8:()=>i,jJ:()=>u,jg:()=>p,mz:()=>f,nx:()=>l,oQ:()=>x,pz:()=>c,qu:()=>d,s$:()=>g,uU:()=>m,uc:()=>s,yj:()=>y});let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api";async function s(){let e=localStorage.getItem("auth_token"),t=await fetch(`${a}/entities`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function n(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/entities`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await r.json()).data||null}async function i(e,t){let r=localStorage.getItem("auth_token"),s=await fetch(`${a}/entities/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},body:JSON.stringify(t)});return(await s.json()).data||null}async function o(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/entities/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await r.json()).success}async function l(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/tickets/purchase`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await r.json()).data||null}async function d(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/tickets/reset-counter/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await r.json()).success}async function c(e,t){let r=localStorage.getItem("auth_token"),s=await fetch(`${a}/tickets/purchases/${e}/payment`,{method:"PATCH",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},body:JSON.stringify({isPaid:t})});return(await s.json()).data||null}async function u(e,t){let r=localStorage.getItem("auth_token"),s=await fetch(`${a}/tickets/purchases/${e}/buyer`,{method:"PATCH",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},body:JSON.stringify({buyerName:t})});return(await s.json()).data||null}async function m(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/tickets/purchases/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await r.json()).success}async function h(){let e=localStorage.getItem("auth_token"),t=await fetch(`${a}/tickets/purchases`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function p(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/tickets/purchases/${e}/receipt/text`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return r.ok?r.text():null}function f(){let e=localStorage.getItem("auth_token"),t=`${a}/export/all`;return e?`${t}?token=${encodeURIComponent(e)}`:t}function x(e){let t=localStorage.getItem("auth_token"),r=`${a}/export/entity/${e}`;return t?`${r}?token=${encodeURIComponent(t)}`:r}async function g(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/sessions/active/${e}`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return(await r.json()).data||null}async function y(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/sessions/start`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({entityId:e})}),s=await r.json();if(!s.success&&s.error)throw Error(s.error);return s.data||null}async function j(e){let t=localStorage.getItem("auth_token"),r=await fetch(`${a}/sessions/close/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}}),s=await r.json();if(!s.success&&s.error)throw Error(s.error);return s.data||null}async function v(e,t){let r=localStorage.getItem("auth_token"),s=`${a}/tickets/purchases/entity/${e}`,n=new URLSearchParams;t?.sessionOnly&&n.append("sessionOnly","true"),t?.sessionId&&n.append("sessionId",t.sessionId),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),n.toString()&&(s+=`?${n.toString()}`);let i=await fetch(s,{headers:r?{Authorization:`Bearer ${r}`}:{}});return(await i.json()).data||[]}},3564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let a=(0,r(599).createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/entities/page.tsx`),{__esModule:s,$$typeof:n}=a,i=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[375,13,649],()=>r(3829));module.exports=a})();