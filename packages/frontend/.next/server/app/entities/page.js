(()=>{var e={};e.id=146,e.ids=[146],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3829:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=a(9441),s=a(1498),n=a(6580),o=a.n(n),i=a(5511),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(t,l);let d=["",{children:["entities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3564)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/entities/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4831)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/entities/page.tsx"],u="/entities/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/entities/page",pathname:"/entities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3623:(e,t,a)=>{Promise.resolve().then(a.bind(a,8037))},9056:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7879).Z)("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]])},461:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7879).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8037:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ei});var r=a(7685),s=a(3810),n=a(7986),o=a(7998),i=a(4283),l=a(4887),d=a(7869),c=a(2624),u=a(2724),m=a(8118),p=a(6872),f=a(9294),h=a(7079),x=a(2530),g=a(2518),y=a(3871),j=a(3908),v=["PageUp","PageDown"],b=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],w={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},N="Slider",[D,C,S]=(0,j.B)(N),[k,P]=(0,p.b)(N,[S]),[_,$]=k(N),E=s.forwardRef((e,t)=>{let{name:a,min:n=0,max:o=100,step:i=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:m=0,defaultValue:p=[n],value:h,onValueChange:x=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:j,...w}=e,N=s.useRef(new Set),C=s.useRef(0),S="horizontal"===l?z:F,[k=[],P]=(0,f.T)({prop:h,defaultProp:p,onChange:e=>{let t=[...N.current];t[C.current]?.focus(),x(e)}}),$=s.useRef(k);function E(e,t,{commit:a}={commit:!1}){let r=(String(i).split(".")[1]||"").length,s=function(e,t){let a=Math.pow(10,t);return Math.round(e*a)/a}(Math.round((e-n)/i)*i+n,r),l=(0,c.u)(s,[n,o]);P((e=[])=>{var r,s;let n=function(e=[],t,a){let r=[...e];return r[a]=t,r.sort((e,t)=>e-t)}(e,l,t);if(r=n,!(!((s=m*i)>0)||Math.min(...r.slice(0,-1).map((e,t)=>r[t+1]-e))>=s))return e;{C.current=n.indexOf(l);let t=String(n)!==String(e);return t&&a&&g(n),t?n:e}})}return(0,r.jsx)(_,{scope:e.__scopeSlider,name:a,disabled:d,min:n,max:o,valueIndexToChangeRef:C,thumbs:N.current,values:k,orientation:l,form:j,children:(0,r.jsx)(D.Provider,{scope:e.__scopeSlider,children:(0,r.jsx)(D.Slot,{scope:e.__scopeSlider,children:(0,r.jsx)(S,{"aria-disabled":d,"data-disabled":d?"":void 0,...w,ref:t,onPointerDown:(0,u.Mj)(w.onPointerDown,()=>{d||($.current=k)}),min:n,max:o,inverted:y,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let a=e.map(e=>Math.abs(e-t));return a.indexOf(Math.min(...a))}(k,e);E(e,t)},onSlideMove:d?void 0:function(e){E(e,C.current)},onSlideEnd:d?void 0:function(){let e=$.current[C.current];k[C.current]!==e&&g(k)},onHomeKeyDown:()=>!d&&E(n,0,{commit:!0}),onEndKeyDown:()=>!d&&E(o,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let a=v.includes(e.key)||e.shiftKey&&b.includes(e.key),r=C.current;E(k[r]+i*(a?10:1)*t,r,{commit:!0})}}})})})})});E.displayName=N;var[A,R]=k(N,{startEdge:"left",endEdge:"right",size:"width",direction:1}),z=s.forwardRef((e,t)=>{let{min:a,max:n,dir:o,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...p}=e,[f,x]=s.useState(null),g=(0,m.e)(t,e=>x(e)),y=s.useRef(void 0),j=(0,h.gm)(o),v="ltr"===j,b=v&&!i||!v&&i;function N(e){let t=y.current||f.getBoundingClientRect(),r=H([0,t.width],b?[a,n]:[n,a]);return y.current=t,r(e-t.left)}return(0,r.jsx)(A,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,r.jsx)(I,{dir:j,"data-orientation":"horizontal",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=N(e.clientX);l?.(t)},onSlideMove:e=>{let t=N(e.clientX);d?.(t)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:e=>{let t=w[b?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),F=s.forwardRef((e,t)=>{let{min:a,max:n,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:d,onStepKeyDown:c,...u}=e,p=s.useRef(null),f=(0,m.e)(t,p),h=s.useRef(void 0),x=!o;function g(e){let t=h.current||p.current.getBoundingClientRect(),r=H([0,t.height],x?[n,a]:[a,n]);return h.current=t,r(e-t.top)}return(0,r.jsx)(A,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,r.jsx)(I,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=g(e.clientY);i?.(t)},onSlideMove:e=>{let t=g(e.clientY);l?.(t)},onSlideEnd:()=>{h.current=void 0,d?.()},onStepKeyDown:e=>{let t=w[x?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),I=s.forwardRef((e,t)=>{let{__scopeSlider:a,onSlideStart:s,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:d,...c}=e,m=$(N,a);return(0,r.jsx)(y.WV.span,{...c,ref:t,onKeyDown:(0,u.Mj)(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):v.concat(b).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,u.Mj)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),m.thumbs.has(t)?t.focus():s(e)}),onPointerMove:(0,u.Mj)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&n(e)}),onPointerUp:(0,u.Mj)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))})})}),M="SliderTrack",B=s.forwardRef((e,t)=>{let{__scopeSlider:a,...s}=e,n=$(M,a);return(0,r.jsx)(y.WV.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:t})});B.displayName=M;var T="SliderRange",O=s.forwardRef((e,t)=>{let{__scopeSlider:a,...n}=e,o=$(T,a),i=R(T,a),l=s.useRef(null),d=(0,m.e)(t,l),c=o.values.length,u=o.values.map(e=>Z(e,o.min,o.max));return(0,r.jsx)(y.WV.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:d,style:{...e.style,[i.startEdge]:(c>1?Math.min(...u):0)+"%",[i.endEdge]:100-Math.max(...u)+"%"}})});O.displayName=T;var U="SliderThumb",L=s.forwardRef((e,t)=>{let a=C(e.__scopeSlider),[n,o]=s.useState(null),i=(0,m.e)(t,e=>o(e)),l=s.useMemo(()=>n?a().findIndex(e=>e.ref.current===n):-1,[a,n]);return(0,r.jsx)(V,{...e,ref:i,index:l})}),V=s.forwardRef((e,t)=>{let{__scopeSlider:a,index:n,name:o,...i}=e,l=$(U,a),d=R(U,a),[c,p]=s.useState(null),f=(0,m.e)(t,e=>p(e)),h=!c||l.form||!!c.closest("form"),x=(0,g.t)(c),j=l.values[n],v=void 0===j?0:Z(j,l.min,l.max),b=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(n,l.values.length),w=x?.[d.size],N=w?function(e,t,a){let r=e/2,s=H([0,50],[0,r]);return(r-s(t)*a)*a}(w,v,d.direction):0;return s.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),(0,r.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${v}% + ${N}px)`},children:[(0,r.jsx)(D.ItemSlot,{scope:e.__scopeSlider,children:(0,r.jsx)(y.WV.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":l.min,"aria-valuenow":j,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:f,style:void 0===j?{display:"none"}:e.style,onFocus:(0,u.Mj)(e.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),h&&(0,r.jsx)(q,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:j},n)]})});L.displayName=U;var q=s.forwardRef(({__scopeSlider:e,value:t,...a},n)=>{let o=s.useRef(null),i=(0,m.e)(o,n),l=(0,x.D)(t);return s.useEffect(()=>{let e=o.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==t&&a){let r=new Event("input",{bubbles:!0});a.call(e,t),e.dispatchEvent(r)}},[l,t]),(0,r.jsx)(y.WV.input,{style:{display:"none"},...a,ref:i,defaultValue:t})});function Z(e,t,a){return(0,c.u)(100/(a-t)*(e-t),[0,100])}function H(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(a-e[0])}}q.displayName="RadioBubbleInput";var K=a(4120);let J=s.forwardRef(({className:e,...t},a)=>(0,r.jsxs)(E,{ref:a,className:(0,K.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(B,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:r.jsx(O,{className:"absolute h-full bg-primary"})}),r.jsx(L,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));J.displayName=E.displayName;var G=a(4177),Y=a(9881),W=a(461);let X=["\uD83C\uDFB2","\uD83C\uDFB0","\uD83C\uDFAA","\uD83C\uDFAD","\uD83C\uDFAF","\uD83C\uDCCF","\uD83C\uDFB4","\uD83D\uDC8E","\uD83D\uDC51","\uD83C\uDF1F","\uD83C\uDF12"];function Q({onSuccess:e}){let[t,a]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[f,h]=(0,s.useState)("\uD83C\uDFB2"),[x,g]=(0,s.useState)("Thanks for your Purchase.. and good luck~"),[y,j]=(0,s.useState)(70),v=async t=>{t.preventDefault(),o(!0);try{let t=await (0,Y.JP)({name:c.toLowerCase().replace(/\s+/g,"-"),displayName:m,emoji:f,tagline:x,rafflePercentage:y});t&&(e?.(t),a(!1),u(""),p(""),h("\uD83C\uDFB2"),g("Thanks for your Purchase.. and good luck~"),j(70))}catch(e){console.error("Failed to create entity:",e)}finally{o(!1)}};return(0,r.jsxs)(G.Vq,{open:t,onOpenChange:a,children:[r.jsx(G.hg,{asChild:!0,children:(0,r.jsxs)(i.z,{variant:"outline",className:"gap-2",children:[r.jsx(W.Z,{className:"h-4 w-4"}),"Create Club"]})}),(0,r.jsxs)(G.cZ,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(G.fK,{children:[r.jsx(G.$N,{children:"Create New Club Entity"}),r.jsx(G.Be,{children:"Create a new club for your raffle system."})]}),(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"displayName",children:"Club Name"}),r.jsx(l.I,{id:"displayName",value:m,onChange:e=>{p(e.target.value),u(e.target.value.toLowerCase().replace(/\s+/g,"-"))},placeholder:"e.g., GODFATHER'S CLUB",required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{children:"Select Emoji"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(e=>r.jsx("button",{type:"button",onClick:()=>h(e),className:`text-2xl p-2 rounded-lg border-2 transition-colors ${f===e?"border-primary bg-primary/10":"border-transparent hover:border-muted-foreground/30"}`,children:e},e))})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"tagline",children:"Tagline"}),r.jsx(l.I,{id:"tagline",value:x,onChange:e=>g(e.target.value),placeholder:"Enter a catchy tagline"})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)(d._,{children:["Prize Percentage: ",y,"%"]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(J,{value:[y],onValueChange:e=>j(e[0]),min:10,max:100,step:5,className:"flex-1"}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:[y,"%"]})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage of revenue allocated for the prize pool"})]}),(0,r.jsxs)("div",{className:"rounded-lg bg-muted p-4 text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview"}),(0,r.jsxs)("p",{className:"text-lg font-bold",children:[f," ",m||"CLUB NAME"," ",f]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:x}),(0,r.jsxs)("p",{className:"text-xs text-amber-500 mt-2",children:["\uD83C\uDFC6 Prize: ",y,"% of revenue"]})]})]}),r.jsx(G.cN,{children:r.jsx(i.z,{type:"submit",disabled:n||!m,children:n?"Creating...":"Create Club"})})]})]})]})}var ee=a(4150);let et=["\uD83C\uDFB2","\uD83C\uDFB0","\uD83C\uDFAD","\uD83C\uDFAF","\uD83D\uDC8E","\uD83D\uDC51","\uD83C\uDF1F","\uD83C\uDF12","\uD83D\uDDA4\uD83D\uDDA4\uD83D\uDDA4"];function ea({entity:e,onSuccess:t}){let[a,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(e.displayName),[p,f]=(0,s.useState)(e.emoji),[h,x]=(0,s.useState)(e.tagline),[g,y]=(0,s.useState)(e.rafflePercentage??70),j=async a=>{a.preventDefault(),c(!0);try{let a=await (0,Y.i8)(e.id,{displayName:u,emoji:p,tagline:h,rafflePercentage:g});a&&(t?.(a),n(!1))}catch(e){console.error("Failed to update entity:",e)}finally{c(!1)}};return(0,r.jsxs)(G.Vq,{open:a,onOpenChange:t=>{t&&(m(e.displayName),f(e.emoji),x(e.tagline),y(e.rafflePercentage??70)),n(t)},children:[r.jsx(G.hg,{asChild:!0,children:r.jsx(i.z,{variant:"outline",size:"icon",title:"Edit Club",children:r.jsx(ee.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(G.cZ,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(G.fK,{children:[r.jsx(G.$N,{children:"Edit Club Entity"}),r.jsx(G.Be,{children:"Update the club settings and raffle percentage."})]}),(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"displayName",children:"Club Name"}),r.jsx(l.I,{id:"displayName",value:u,onChange:e=>m(e.target.value),placeholder:"e.g., GODFATHER'S CLUB",required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{children:"Select Emoji"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:et.map(e=>r.jsx("button",{type:"button",onClick:()=>f(e),className:`text-2xl p-2 rounded-lg border-2 transition-colors ${p===e?"border-primary bg-primary/10":"border-transparent hover:border-muted-foreground/30"}`,children:e},e))})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"tagline",children:"Tagline"}),r.jsx(l.I,{id:"tagline",value:h,onChange:e=>x(e.target.value),placeholder:"Enter a catchy tagline"})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)(d._,{children:["Prize Percentage: ",g,"%"]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(J,{value:[g],onValueChange:e=>y(e[0]),min:10,max:100,step:5,className:"flex-1"}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:[g,"%"]})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage of revenue allocated for the prize pool"})]}),(0,r.jsxs)("div",{className:"rounded-lg bg-muted p-4 text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview"}),(0,r.jsxs)("p",{className:"text-lg font-bold",children:[p," ",u||"CLUB NAME"," ",p]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:h}),(0,r.jsxs)("p",{className:"text-xs text-amber-500 mt-2",children:["\uD83C\uDFC6 Prize: ",g,"% of revenue"]})]})]}),r.jsx(G.cN,{children:r.jsx(i.z,{type:"submit",disabled:o||!u,children:o?"Saving...":"Save Changes"})})]})]})]})}var er=a(3920),es=a(7063),en=a(9056),eo=a(5943);function ei(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),{user:d,isLoading:c,canCreateClubs:u}=(0,es.useAuth)(),m=(0,n.useRouter)();(0,s.useEffect)(()=>{c||d||m.push("/login")},[d,c,m]);let p=!c&&u(),f=d?.role==="superuser",h=async()=>{try{let e=await (0,Y.uc)();t(e)}catch(e){console.error("Failed to load entities:",e)}finally{l(!1)}};(0,s.useEffect)(()=>{d&&h()},[d]);let x=async e=>{confirm("Are you sure you want to delete this club?")&&(await (0,Y.Ks)(e),h())};return c||!d||a?r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-4",children:"\uD83C\uDFE2"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):(0,r.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Club Entities"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Manage your raffle club entities"})]}),p&&r.jsx(Q,{onSuccess:h})]}),0===e.length?(0,r.jsxs)(er.Zb,{className:"p-6 sm:p-12 text-center",children:[r.jsx("div",{className:"text-4xl sm:text-6xl mb-4",children:"\uD83C\uDFE2"}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"No Clubs Yet"}),r.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4",children:p?"Create your first club entity to start selling raffle tickets.":"No clubs available. Contact a superuser to create one."}),p&&r.jsx(Q,{onSuccess:h})]}):r.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,r.jsxs)("div",{className:"relative group",children:[r.jsx(o.m,{entity:e}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[r.jsx(i.z,{variant:"outline",size:"icon",asChild:!0,children:r.jsx("a",{href:(0,Y.oQ)(e.id),download:!0,title:"Export to Excel",children:r.jsx(en.Z,{className:"h-4 w-4"})})}),r.jsx(ea,{entity:e,onSuccess:h}),f&&r.jsx(i.z,{variant:"destructive",size:"icon",onClick:()=>x(e.id),children:r.jsx(eo.Z,{className:"h-4 w-4"})})]})]},e.id))})]})}},7998:(e,t,a)=>{"use strict";a.d(t,{m:()=>o});var r=a(7685),s=a(3920),n=a(5090);function o({entity:e,onClick:t,selected:a}){return(0,r.jsxs)(s.Zb,{className:`cursor-pointer transition-all hover:shadow-lg ${a?"ring-2 ring-primary":""}`,onClick:t,children:[(0,r.jsxs)(s.Ol,{className:"pb-2 p-3 sm:p-6 sm:pb-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-3xl sm:text-4xl",children:e.emoji}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-end",children:[(0,r.jsxs)(n.C,{variant:"outline",className:"text-amber-500 border-amber-500 text-xs",children:["\uD83C\uDFC6 ",e.rafflePercentage??70,"%"]}),r.jsx(n.C,{variant:a?"default":"secondary",className:"text-xs",children:e.name})]})]}),r.jsx(s.ll,{className:"text-lg sm:text-xl",children:e.displayName}),r.jsx(s.SZ,{className:"text-xs sm:text-sm line-clamp-2",children:e.tagline})]}),r.jsx(s.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})})]})}},5090:(e,t,a)=>{"use strict";a.d(t,{C:()=>i});var r=a(7685);a(3810);var s=a(1727),n=a(4120);let o=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...a}){return r.jsx("div",{className:(0,n.cn)(o({variant:t}),e),...a})}},3920:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>i,SZ:()=>d,Zb:()=>o,aY:()=>c,ll:()=>l});var r=a(7685),s=a(3810),n=a(4120);let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4177:(e,t,a)=>{"use strict";a.d(t,{$N:()=>h,Be:()=>x,Vq:()=>l,cN:()=>f,cZ:()=>m,fK:()=>p,hg:()=>d});var r=a(7685),s=a(3810),n=a(3069),o=a(4654),i=a(4120);let l=n.fC,d=n.xz,c=n.h_;n.x8;let u=s.forwardRef(({className:e,...t},a)=>r.jsx(n.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=n.aV.displayName;let m=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(c,{children:[r.jsx(u,{}),(0,r.jsxs)(n.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(o.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=n.VY.displayName;let p=({className:e,...t})=>r.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let f=({className:e,...t})=>r.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});f.displayName="DialogFooter";let h=s.forwardRef(({className:e,...t},a)=>r.jsx(n.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=n.Dx.displayName;let x=s.forwardRef(({className:e,...t},a)=>r.jsx(n.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=n.dk.displayName},4887:(e,t,a)=>{"use strict";a.d(t,{I:()=>o});var r=a(7685),s=a(3810),n=a(4120);let o=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));o.displayName="Input"},7869:(e,t,a)=>{"use strict";a.d(t,{_:()=>d});var r=a(7685),s=a(3810),n=a(8753),o=a(1727),i=a(4120);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},a)=>r.jsx(n.f,{ref:a,className:(0,i.cn)(l(),e),...t}));d.displayName=n.f.displayName},9881:(e,t,a)=>{"use strict";a.d(t,{FJ:()=>b,GP:()=>f,JP:()=>n,Ks:()=>i,RJ:()=>v,Un:()=>c,i8:()=>o,jJ:()=>m,jg:()=>h,mz:()=>x,nx:()=>l,oQ:()=>g,pz:()=>u,qu:()=>d,s$:()=>y,uU:()=>p,uc:()=>s,yj:()=>j});let r=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api";async function s(){let e=localStorage.getItem("auth_token"),t=await fetch(`${r}/entities`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function n(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/entities`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await a.json()).data||null}async function o(e,t){let a=localStorage.getItem("auth_token"),s=await fetch(`${r}/entities/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(t)});return(await s.json()).data||null}async function i(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/entities/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function l(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/tickets/purchase`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)});return(await a.json()).data||null}async function d(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/tickets/reset-counter/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function c(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/tickets/announcement`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(e)}),s=await a.json();return s.data?.announcement||null}async function u(e,t){let a=localStorage.getItem("auth_token"),s=await fetch(`${r}/tickets/purchases/${e}/payment`,{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({isPaid:t})});return(await s.json()).data||null}async function m(e,t){let a=localStorage.getItem("auth_token"),s=await fetch(`${r}/tickets/purchases/${e}/buyer`,{method:"PATCH",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({buyerName:t})});return(await s.json()).data||null}async function p(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/tickets/purchases/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).success}async function f(){let e=localStorage.getItem("auth_token"),t=await fetch(`${r}/tickets/purchases`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return(await t.json()).data||[]}async function h(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/tickets/purchases/${e}/receipt/text`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return a.ok?a.text():null}function x(){let e=localStorage.getItem("auth_token"),t=`${r}/export/all`;return e?`${t}?token=${encodeURIComponent(e)}`:t}function g(e){let t=localStorage.getItem("auth_token"),a=`${r}/export/entity/${e}`;return t?`${a}?token=${encodeURIComponent(t)}`:a}async function y(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/sessions/active/${e}`,{headers:t?{Authorization:`Bearer ${t}`}:{}});return(await a.json()).data||null}async function j(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/sessions/start`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({entityId:e})}),s=await a.json();if(!s.success&&s.error)throw Error(s.error);return s.data||null}async function v(e){let t=localStorage.getItem("auth_token"),a=await fetch(`${r}/sessions/close/${e}`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}}),s=await a.json();if(!s.success&&s.error)throw Error(s.error);return s.data||null}async function b(e,t){let a=localStorage.getItem("auth_token"),s=`${r}/tickets/purchases/entity/${e}`,n=new URLSearchParams;t?.sessionOnly&&n.append("sessionOnly","true"),t?.sessionId&&n.append("sessionId",t.sessionId),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),n.toString()&&(s+=`?${n.toString()}`);let o=await fetch(s,{headers:a?{Authorization:`Bearer ${a}`}:{}});return(await o.json()).data||[]}},3564:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let r=(0,a(599).createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/entities/page.tsx`),{__esModule:s,$$typeof:n}=r,o=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[615,339,649],()=>a(3829));module.exports=r})();