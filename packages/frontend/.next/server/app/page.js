(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1431:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>o,originalPathname:()=>x,pages:()=>m,routeModule:()=>p,tree:()=>d});var a=t(9441),l=t(1498),r=t(6580),n=t.n(r),i=t(5511),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9475)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4831)),"/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,3250,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/page.tsx"],x="/page",o={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},960:(e,s,t)=>{Promise.resolve().then(t.bind(t,2467))},2467:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(7685),l=t(3810),r=t(7986),n=t(3920),i=t(4283),c=t(8596),d=t(8721),m=t(7998),x=t(7356),o=t(9881),p=t(7063),u=t(9056),h=t(8952),f=t(3096),j=t(6620);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,t(7879).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var b=t(1099);function N(){let[e,s]=(0,l.useState)([]),[t,N]=(0,l.useState)([]),[y,v]=(0,l.useState)(""),[w,k]=(0,l.useState)(!1),[P,_]=(0,l.useState)(!0),{user:C,isLoading:D}=(0,p.useAuth)(),Z=(0,r.useRouter)();(0,l.useEffect)(()=>{D||C?!D&&C&&"superuser"!==C.role&&Z.push("/tickets"):Z.push("/login")},[C,D,Z]);let q=async()=>{try{let[e,t]=await Promise.all([(0,o.uc)(),(0,o.GP)()]);s(e),N(t)}catch(e){console.error("Failed to load data:",e)}finally{_(!1)}};(0,l.useEffect)(()=>{C&&q()},[C]);let M=t.reduce((e,s)=>e+s.ticketCount,0),F=t.reduce((e,s)=>e+s.totalPrice,0);return D||!C||P||"superuser"!==C.role?a.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83C\uDFB2"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Manage your party raffle system"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(i.z,{variant:"outline",className:"gap-2 flex-1 sm:flex-none",asChild:!0,children:(0,a.jsxs)("a",{href:(0,o.mz)(),download:!0,children:[a.jsx(u.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Export"})]})}),a.jsx(c.U,{entities:e,onSuccess:e=>{v(e),k(!0),q()}})]})]}),(0,a.jsxs)("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 sm:p-6 sm:pb-2",children:[a.jsx(n.ll,{className:"text-xs sm:text-sm font-medium",children:"Total Clubs"}),a.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),a.jsx(n.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:e.length})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 sm:p-6 sm:pb-2",children:[a.jsx(n.ll,{className:"text-xs sm:text-sm font-medium",children:"Tickets Sold"}),a.jsx(f.Z,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),a.jsx(n.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:M})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 sm:p-6 sm:pb-2",children:[a.jsx(n.ll,{className:"text-xs sm:text-sm font-medium",children:"Revenue"}),a.jsx(j.Z,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),a.jsx(n.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:(0,a.jsxs)("div",{className:"text-xl sm:text-2xl font-bold",children:["$",F.toFixed(2)]})})]}),(0,a.jsxs)(n.Zb,{className:"bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border-amber-500/50",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 sm:p-6 sm:pb-2",children:[a.jsx(n.ll,{className:"text-xs sm:text-sm font-medium",children:"\uD83C\uDFC6 Prize"}),a.jsx(g,{className:"h-4 w-4 text-amber-500 hidden sm:block"})]}),(0,a.jsxs)(n.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:[(0,a.jsxs)("div",{className:"text-xl sm:text-2xl font-bold text-amber-500",children:["$",Math.floor(.7*F).toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"70% of revenue"})]})]}),(0,a.jsxs)(n.Zb,{className:"col-span-2 md:col-span-1",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 sm:p-6 sm:pb-2",children:[a.jsx(n.ll,{className:"text-xs sm:text-sm font-medium",children:"Purchases"}),a.jsx(b.Z,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),a.jsx(n.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:t.length})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Club Entities"}),0===e.length?a.jsx(n.Zb,{className:"p-6 sm:p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"No clubs created yet."})}):a.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>a.jsx(m.m,{entity:e},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Recent Purchases"}),0===t.length?a.jsx(n.Zb,{className:"p-6 sm:p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"No purchases yet."})}):a.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:t.slice(0,6).map(s=>a.jsx(x.Q,{purchase:s,entity:e.find(e=>e.id===s.entityId),onViewReceipt:e=>{v(e),k(!0)},onDelete:q,onUpdate:q},s.id))})]}),a.jsx(d.$,{receipt:y,open:w,onOpenChange:k})]})}},7998:(e,s,t)=>{"use strict";t.d(s,{m:()=>n});var a=t(7685),l=t(3920),r=t(5090);function n({entity:e,onClick:s,selected:t}){return(0,a.jsxs)(l.Zb,{className:`cursor-pointer transition-all hover:shadow-lg ${t?"ring-2 ring-primary":""}`,onClick:s,children:[(0,a.jsxs)(l.Ol,{className:"pb-2 p-3 sm:p-6 sm:pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-3xl sm:text-4xl",children:e.emoji}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-end",children:[(0,a.jsxs)(r.C,{variant:"outline",className:"text-amber-500 border-amber-500 text-xs",children:["\uD83C\uDFC6 ",e.rafflePercentage??70,"%"]}),a.jsx(r.C,{variant:t?"default":"secondary",className:"text-xs",children:e.name})]})]}),a.jsx(l.ll,{className:"text-lg sm:text-xl",children:e.displayName}),a.jsx(l.SZ,{className:"text-xs sm:text-sm line-clamp-2",children:e.tagline})]}),a.jsx(l.aY,{className:"p-3 pt-0 sm:p-6 sm:pt-0",children:(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})})]})}},9475:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>n});let a=(0,t(599).createProxy)(String.raw`/Users/soumyadeepsharma99/Desktop/Dev/Raffle_GodFather/packages/frontend/src/app/page.tsx`),{__esModule:l,$$typeof:r}=a,n=a.default}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[375,13,87,649,288],()=>t(1431));module.exports=a})();